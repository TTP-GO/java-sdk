<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Enhanced AgentWidget Examples</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      margin: 0;
      padding: 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }
    
    h1 {
      color: #333;
      text-align: center;
      margin-bottom: 30px;
    }
    
    .example-section {
      margin: 40px 0;
      padding: 20px;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      background: #f9f9f9;
    }
    
    .example-title {
      font-size: 1.5em;
      font-weight: bold;
      color: #4F46E5;
      margin-bottom: 15px;
    }
    
    .example-description {
      color: #666;
      margin-bottom: 20px;
    }
    
    .code-block {
      background: #1e1e1e;
      color: #d4d4d4;
      padding: 20px;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      overflow-x: auto;
      margin: 15px 0;
    }
    
    .demo-button {
      background: #4F46E5;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
      margin: 10px 5px;
      transition: background 0.2s;
    }
    
    .demo-button:hover {
      background: #7C3AED;
    }
    
    .demo-button.destroy {
      background: #EF4444;
    }
    
    .demo-button.destroy:hover {
      background: #DC2626;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ðŸŽ¤ Enhanced AgentWidget Examples</h1>
    
    <div class="example-section">
      <div class="example-title">1. Default Configuration</div>
      <div class="example-description">Basic widget with all default settings</div>
      <div class="code-block">
new EnhancedAgentWidget({
  agentId: 'demo_agent',
  getSessionUrl: async ({ agentId, variables }) => {
    return 'wss://speech.talktopc.com/ws/conv?agentId=' + agentId;
  }
});
      </div>
      <button class="demo-button" onclick="createDefaultWidget()">Create Default Widget</button>
    </div>
    
    <div class="example-section">
      <div class="example-title">2. Custom Icon (Company Logo)</div>
      <div class="example-description">Widget with custom company logo</div>
      <div class="code-block">
new EnhancedAgentWidget({
  agentId: 'demo_agent',
  getSessionUrl: async ({ agentId, variables }) => {
    return 'wss://speech.talktopc.com/ws/conv?agentId=' + agentId;
  },
  icon: {
    type: 'custom',
    customImage: 'https://via.placeholder.com/64x64/4F46E5/FFFFFF?text=LOGO',
    size: 'large'
  },
  button: {
    primaryColor: '#FF6B35',
    hoverColor: '#FF8C42'
  }
});
      </div>
      <button class="demo-button" onclick="createCustomIconWidget()">Create Custom Icon Widget</button>
    </div>
    
    <div class="example-section">
      <div class="example-title">3. Emoji Icon</div>
      <div class="example-description">Widget with emoji icon</div>
      <div class="code-block">
new EnhancedAgentWidget({
  agentId: 'demo_agent',
  getSessionUrl: async ({ agentId, variables }) => {
    return 'wss://speech.talktopc.com/ws/conv?agentId=' + agentId;
  },
  icon: {
    type: 'emoji',
    emoji: 'ðŸ¤–',
    size: 'xl'
  },
  button: {
    primaryColor: '#10B981',
    hoverColor: '#059669'
  }
});
      </div>
      <button class="demo-button" onclick="createEmojiWidget()">Create Emoji Widget</button>
    </div>
    
    <div class="example-section">
      <div class="example-title">4. Text Icon</div>
      <div class="example-description">Widget with text-based icon</div>
      <div class="code-block">
new EnhancedAgentWidget({
  agentId: 'demo_agent',
  getSessionUrl: async ({ agentId, variables }) => {
    return 'wss://speech.talktopc.com/ws/conv?agentId=' + agentId;
  },
  icon: {
    type: 'text',
    text: 'HELP',
    size: 'medium'
  },
  button: {
    primaryColor: '#8B5CF6',
    hoverColor: '#7C3AED',
    shape: 'rounded'
  }
});
      </div>
      <button class="demo-button" onclick="createTextWidget()">Create Text Widget</button>
    </div>
    
    <div class="example-section">
      <div class="example-title">5. Top-Left Position</div>
      <div class="example-description">Widget positioned in top-left corner</div>
      <div class="code-block">
new EnhancedAgentWidget({
  agentId: 'demo_agent',
  getSessionUrl: async ({ agentId, variables }) => {
    return 'wss://speech.talktopc.com/ws/conv?agentId=' + agentId;
  },
  position: {
    vertical: 'top',
    horizontal: 'left',
    offset: { x: 30, y: 30 }
  },
  button: {
    primaryColor: '#F59E0B',
    hoverColor: '#D97706'
  }
});
      </div>
      <button class="demo-button" onclick="createTopLeftWidget()">Create Top-Left Widget</button>
    </div>
    
    <div class="example-section">
      <div class="example-title">6. Center Position</div>
      <div class="example-description">Widget positioned in center of screen</div>
      <div class="code-block">
new EnhancedAgentWidget({
  agentId: 'demo_agent',
  getSessionUrl: async ({ agentId, variables }) => {
    return 'wss://speech.talktopc.com/ws/conv?agentId=' + agentId;
  },
  position: {
    vertical: 'center',
    horizontal: 'center'
  },
  button: {
    primaryColor: '#EC4899',
    hoverColor: '#DB2777',
    size: 'xl'
  }
});
      </div>
      <button class="demo-button" onclick="createCenterWidget()">Create Center Widget</button>
    </div>
    
    <div class="example-section">
      <div class="example-title">7. Custom Styling</div>
      <div class="example-description">Widget with custom colors and styling</div>
      <div class="code-block">
new EnhancedAgentWidget({
  agentId: 'demo_agent',
  getSessionUrl: async ({ agentId, variables }) => {
    return 'wss://speech.talktopc.com/ws/conv?agentId=' + agentId;
  },
  button: {
    primaryColor: '#1F2937',
    hoverColor: '#374151',
    activeColor: '#DC2626',
    shape: 'square',
    size: 'large'
  },
  panel: {
    backgroundColor: 'rgba(31, 41, 55, 0.95)',
    borderRadius: 20,
    backdropFilter: 'blur(20px)'
  },
  header: {
    title: 'Dark Mode Assistant',
    backgroundColor: '#1F2937',
    textColor: '#FFFFFF'
  },
  messages: {
    userBackgroundColor: '#3B82F6',
    agentBackgroundColor: '#6B7280',
    textColor: '#FFFFFF'
  }
});
      </div>
      <button class="demo-button" onclick="createCustomStyledWidget()">Create Custom Styled Widget</button>
    </div>
    
    <div class="example-section">
      <div class="example-title">8. Auto-Open Demo</div>
      <div class="example-description">Widget that opens automatically with welcome message</div>
      <div class="code-block">
new EnhancedAgentWidget({
  agentId: 'demo_agent',
  getSessionUrl: async ({ agentId, variables }) => {
    return 'wss://speech.talktopc.com/ws/conv?agentId=' + agentId;
  },
  behavior: {
    autoOpen: true,
    welcomeMessage: 'Welcome! I\'m your AI assistant. How can I help you today?'
  },
  button: {
    primaryColor: '#059669',
    hoverColor: '#047857'
  }
});
      </div>
      <button class="demo-button" onclick="createAutoOpenWidget()">Create Auto-Open Widget</button>
    </div>
    
    <div style="text-align: center; margin-top: 40px;">
      <button class="demo-button destroy" onclick="destroyAllWidgets()">Destroy All Widgets</button>
    </div>
  </div>

  <!-- Load the SDK -->
  <script src="../dist/agent-widget.js"></script>
  
  <script>
    let currentWidget = null;
    
    function destroyCurrentWidget() {
      if (currentWidget) {
        currentWidget.destroy();
        currentWidget = null;
      }
    }
    
    function createDefaultWidget() {
      destroyCurrentWidget();
      currentWidget = new TTPAgentSDK.EnhancedAgentWidget({
        agentId: 'demo_agent_default',
        getSessionUrl: async ({ agentId, variables }) => {
          console.log('Creating session for:', agentId);
          return `wss://speech.talktopc.com/ws/conv?agentId=${agentId}&demo=true`;
        }
      });
    }
    
    function createCustomIconWidget() {
      destroyCurrentWidget();
      currentWidget = new TTPAgentSDK.EnhancedAgentWidget({
        agentId: 'demo_agent_custom',
        getSessionUrl: async ({ agentId, variables }) => {
          return `wss://speech.talktopc.com/ws/conv?agentId=${agentId}&demo=true`;
        },
        icon: {
          type: 'custom',
          customImage: 'https://via.placeholder.com/64x64/4F46E5/FFFFFF?text=LOGO',
          size: 'large'
        },
        button: {
          primaryColor: '#FF6B35',
          hoverColor: '#FF8C42'
        }
      });
    }
    
    function createEmojiWidget() {
      destroyCurrentWidget();
      currentWidget = new TTPAgentSDK.EnhancedAgentWidget({
        agentId: 'demo_agent_emoji',
        getSessionUrl: async ({ agentId, variables }) => {
          return `wss://speech.talktopc.com/ws/conv?agentId=${agentId}&demo=true`;
        },
        icon: {
          type: 'emoji',
          emoji: 'ðŸ¤–',
          size: 'xl'
        },
        button: {
          primaryColor: '#10B981',
          hoverColor: '#059669'
        }
      });
    }
    
    function createTextWidget() {
      destroyCurrentWidget();
      currentWidget = new TTPAgentSDK.EnhancedAgentWidget({
        agentId: 'demo_agent_text',
        getSessionUrl: async ({ agentId, variables }) => {
          return `wss://speech.talktopc.com/ws/conv?agentId=${agentId}&demo=true`;
        },
        icon: {
          type: 'text',
          text: 'HELP',
          size: 'medium'
        },
        button: {
          primaryColor: '#8B5CF6',
          hoverColor: '#7C3AED',
          shape: 'rounded'
        }
      });
    }
    
    function createTopLeftWidget() {
      destroyCurrentWidget();
      currentWidget = new TTPAgentSDK.EnhancedAgentWidget({
        agentId: 'demo_agent_topleft',
        getSessionUrl: async ({ agentId, variables }) => {
          return `wss://speech.talktopc.com/ws/conv?agentId=${agentId}&demo=true`;
        },
        position: {
          vertical: 'top',
          horizontal: 'left',
          offset: { x: 30, y: 30 }
        },
        button: {
          primaryColor: '#F59E0B',
          hoverColor: '#D97706'
        }
      });
    }
    
    function createCenterWidget() {
      destroyCurrentWidget();
      currentWidget = new TTPAgentSDK.EnhancedAgentWidget({
        agentId: 'demo_agent_center',
        getSessionUrl: async ({ agentId, variables }) => {
          return `wss://speech.talktopc.com/ws/conv?agentId=${agentId}&demo=true`;
        },
        position: {
          vertical: 'center',
          horizontal: 'center'
        },
        button: {
          primaryColor: '#EC4899',
          hoverColor: '#DB2777',
          size: 'xl'
        }
      });
    }
    
    function createCustomStyledWidget() {
      destroyCurrentWidget();
      currentWidget = new TTPAgentSDK.EnhancedAgentWidget({
        agentId: 'demo_agent_custom',
        getSessionUrl: async ({ agentId, variables }) => {
          return `wss://speech.talktopc.com/ws/conv?agentId=${agentId}&demo=true`;
        },
        button: {
          primaryColor: '#1F2937',
          hoverColor: '#374151',
          activeColor: '#DC2626',
          shape: 'square',
          size: 'large'
        },
        panel: {
          backgroundColor: 'rgba(31, 41, 55, 0.95)',
          borderRadius: 20,
          backdropFilter: 'blur(20px)'
        },
        header: {
          title: 'Dark Mode Assistant',
          backgroundColor: '#1F2937',
          textColor: '#FFFFFF'
        },
        messages: {
          userBackgroundColor: '#3B82F6',
          agentBackgroundColor: '#6B7280',
          textColor: '#FFFFFF'
        }
      });
    }
    
    function createAutoOpenWidget() {
      destroyCurrentWidget();
      currentWidget = new TTPAgentSDK.EnhancedAgentWidget({
        agentId: 'demo_agent_auto',
        getSessionUrl: async ({ agentId, variables }) => {
          return `wss://speech.talktopc.com/ws/conv?agentId=${agentId}&demo=true`;
        },
        behavior: {
          autoOpen: true,
          welcomeMessage: 'Welcome! I\'m your AI assistant. How can I help you today?'
        },
        button: {
          primaryColor: '#059669',
          hoverColor: '#047857'
        }
      });
    }
    
    function destroyAllWidgets() {
      destroyCurrentWidget();
      // Also destroy any legacy widgets
      const legacyWidget = document.getElementById('agent-widget');
      if (legacyWidget) {
        legacyWidget.remove();
      }
    }
    
    // Initialize with default widget
    window.addEventListener('load', () => {
      console.log('Enhanced AgentWidget Examples loaded');
      console.log('TTPAgentSDK available:', typeof TTPAgentSDK);
      console.log('EnhancedAgentWidget available:', typeof TTPAgentSDK?.EnhancedAgentWidget);
    });
  </script>
</body>
</html>
