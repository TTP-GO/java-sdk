{"version":3,"file":"agent-widget.js","mappings":"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","sources":["webpack://TTPAgentSDK/webpack/universalModuleDefinition","webpack://TTPAgentSDK/external umd {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","webpack://TTPAgentSDK/./node_modules/react/cjs/react-jsx-runtime.production.js","webpack://TTPAgentSDK/./node_modules/react/jsx-runtime.js","webpack://TTPAgentSDK/webpack/bootstrap","webpack://TTPAgentSDK/webpack/runtime/define property getters","webpack://TTPAgentSDK/webpack/runtime/hasOwnProperty shorthand","webpack://TTPAgentSDK/./src/core/WebSocketSingleton.js","webpack://TTPAgentSDK/./src/core/EventEmitter.js","webpack://TTPAgentSDK/./src/core/ConnectionManager.js","webpack://TTPAgentSDK/./src/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"TTPAgentSDK\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"TTPAgentSDK\"] = factory(root[\"React\"]);\n})(this, (__WEBPACK_EXTERNAL_MODULE__12__) => {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__12__;","/**\n * @license React\n * react-jsx-runtime.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\nfunction jsxProd(type, config, maybeKey) {\n  var key = null;\n  void 0 !== maybeKey && (key = \"\" + maybeKey);\n  void 0 !== config.key && (key = \"\" + config.key);\n  if (\"key\" in config) {\n    maybeKey = {};\n    for (var propName in config)\n      \"key\" !== propName && (maybeKey[propName] = config[propName]);\n  } else maybeKey = config;\n  config = maybeKey.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== config ? config : null,\n    props: maybeKey\n  };\n}\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsxProd;\nexports.jsxs = jsxProd;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","/**\n * WebSocketSingleton - Ensures only one WebSocket connection per URL exists\n */\nimport EventEmitter from './EventEmitter.js';\n\nclass WebSocketSingleton extends EventEmitter {\n  constructor() {\n    super();\n    this.connections = new Map(); // Map of URL -> WebSocket instance\n    this.connectionCounts = new Map(); // Map of URL -> number of subscribers\n    this.creatingConnections = new Set(); // Set of URLs currently being created\n  }\n  \n  /**\n   * Get or create a WebSocket connection\n   */\n  async getConnection(url, config = {}) {\n    // If connection already exists, just return it\n    if (this.connections.has(url)) {\n      const existingConnection = this.connections.get(url);\n      this.connectionCounts.set(url, (this.connectionCounts.get(url) || 0) + 1);\n      console.log(`üîå WebSocketSingleton: Reusing existing connection for ${url} (${this.connectionCounts.get(url)} subscribers)`);\n      return existingConnection;\n    }\n    \n    // Check if we're already in the process of creating a connection\n    if (this.creatingConnections && this.creatingConnections.has(url)) {\n      console.log(`üîå WebSocketSingleton: Connection already being created for ${url}, waiting...`);\n      // Wait for the existing creation to complete\n      return new Promise((resolve) => {\n        const checkConnection = () => {\n          if (this.connections.has(url)) {\n            const existingConnection = this.connections.get(url);\n            this.connectionCounts.set(url, (this.connectionCounts.get(url) || 0) + 1);\n            console.log(`üîå WebSocketSingleton: Got existing connection after wait for ${url} (${this.connectionCounts.get(url)} subscribers)`);\n            resolve(existingConnection);\n          } else {\n            setTimeout(checkConnection, 50);\n          }\n        };\n        checkConnection();\n      });\n    }\n    \n    // Create new connection\n    console.log(`üîå WebSocketSingleton: Creating new connection for ${url}`);\n    this.creatingConnections.add(url);\n    const connection = new WebSocket(url);\n    this.connections.set(url, connection);\n    this.connectionCounts.set(url, 1);\n    \n    // Set up event forwarding\n    connection.addEventListener('open', (event) => {\n      console.log(`üîå WebSocketSingleton: Connection opened for ${url}`);\n      this.creatingConnections.delete(url);\n      this.emit('open', event, url);\n    });\n    \n    connection.addEventListener('close', (event) => {\n      console.log(`üîå WebSocketSingleton: Connection closed for ${url} (Code: ${event.code})`);\n      this.creatingConnections.delete(url);\n      this.connections.delete(url);\n      this.connectionCounts.delete(url);\n      this.emit('close', event, url);\n    });\n    \n    connection.addEventListener('error', (event) => {\n      console.log(`üîå WebSocketSingleton: Connection error for ${url}`, event);\n      this.creatingConnections.delete(url);\n      this.emit('error', event, url);\n    });\n    \n    connection.addEventListener('message', (event) => {\n      this.emit('message', event, url);\n    });\n    \n    return connection;\n  }\n  \n  /**\n   * Release a connection (decrement subscriber count)\n   */\n  releaseConnection(url) {\n    if (!this.connections.has(url)) {\n      console.log(`üîå WebSocketSingleton: Attempted to release non-existent connection for ${url}`);\n      return;\n    }\n    \n    const currentCount = this.connectionCounts.get(url) || 0;\n    const newCount = Math.max(0, currentCount - 1);\n    this.connectionCounts.set(url, newCount);\n    \n    console.log(`üîå WebSocketSingleton: Released connection for ${url} (${newCount} subscribers remaining)`);\n    \n    // If no more subscribers, close the connection\n    if (newCount === 0) {\n      const connection = this.connections.get(url);\n      if (connection && connection.readyState === WebSocket.OPEN) {\n        console.log(`üîå WebSocketSingleton: Closing connection for ${url} (no more subscribers)`);\n        connection.close(1000, 'No more subscribers');\n      }\n      this.connections.delete(url);\n      this.connectionCounts.delete(url);\n    }\n  }\n  \n  /**\n   * Force close a connection\n   */\n  forceClose(url) {\n    if (this.connections.has(url)) {\n      const connection = this.connections.get(url);\n      if (connection && connection.readyState === WebSocket.OPEN) {\n        console.log(`üîå WebSocketSingleton: Force closing connection for ${url}`);\n        connection.close(1000, 'Force close');\n      }\n      this.connections.delete(url);\n      this.connectionCounts.delete(url);\n    }\n  }\n  \n  /**\n   * Get connection status\n   */\n  getConnectionStatus(url) {\n    if (!this.connections.has(url)) {\n      return { exists: false, readyState: null, subscribers: 0 };\n    }\n    \n    const connection = this.connections.get(url);\n    return {\n      exists: true,\n      readyState: connection.readyState,\n      subscribers: this.connectionCounts.get(url) || 0\n    };\n  }\n  \n  /**\n   * Get all active connections\n   */\n  getAllConnections() {\n    const result = {};\n    for (const [url, connection] of this.connections.entries()) {\n      result[url] = {\n        readyState: connection.readyState,\n        subscribers: this.connectionCounts.get(url) || 0\n      };\n    }\n    return result;\n  }\n  \n  /**\n   * Clear all connections (for testing)\n   */\n  clearAll() {\n    console.log(`üîå WebSocketSingleton: Clearing all connections`);\n    for (const [url, connection] of this.connections.entries()) {\n      if (connection && connection.readyState === WebSocket.OPEN) {\n        connection.close(1000, 'Clear all');\n      }\n    }\n    this.connections.clear();\n    this.connectionCounts.clear();\n    this.creatingConnections.clear();\n  }\n}\n\n// Global singleton instance\nconst webSocketSingleton = new WebSocketSingleton();\n\nexport default webSocketSingleton;\n","/**\n * EventEmitter - Simple event system for the VoiceSDK\n */\nexport default class EventEmitter {\n  constructor() {\n    this.events = {};\n  }\n  \n  /**\n   * Add event listener\n   */\n  on(event, callback) {\n    if (!this.events[event]) {\n      this.events[event] = [];\n    }\n    this.events[event].push(callback);\n  }\n  \n  /**\n   * Remove event listener\n   */\n  off(event, callback) {\n    if (!this.events[event]) return;\n    \n    this.events[event] = this.events[event].filter(cb => cb !== callback);\n  }\n  \n  /**\n   * Emit event\n   */\n  emit(event, ...args) {\n    if (!this.events[event]) return;\n    \n    this.events[event].forEach(callback => {\n      try {\n        callback(...args);\n      } catch (error) {\n        console.error(`Error in event listener for ${event}:`, error);\n      }\n    });\n  }\n  \n  /**\n   * Remove all listeners for an event\n   */\n  removeAllListeners(event) {\n    if (event) {\n      delete this.events[event];\n    } else {\n      this.events = {};\n    }\n  }\n}\n","/**\n * ConnectionManager - Global connection manager to prevent multiple connections to the same URL\n */\nclass ConnectionManager {\n  constructor() {\n    this.connections = new Map(); // Map of URL -> connection info\n  }\n  \n  /**\n   * Register a connection attempt\n   */\n  registerConnection(url, connectionId) {\n    if (!this.connections.has(url)) {\n      this.connections.set(url, {\n        connectionId,\n        timestamp: Date.now(),\n        count: 1\n      });\n      console.log(`üîå ConnectionManager: Registered connection ${connectionId} for ${url}`);\n      return true;\n    }\n    \n    const existing = this.connections.get(url);\n    const timeSinceLastConnection = Date.now() - existing.timestamp;\n    \n    // If it's been more than 30 seconds since the last connection, allow it\n    if (timeSinceLastConnection > 30000) {\n      this.connections.set(url, {\n        connectionId,\n        timestamp: Date.now(),\n        count: 1\n      });\n      console.log(`üîå ConnectionManager: Allowed new connection ${connectionId} for ${url} (old connection was ${timeSinceLastConnection}ms ago)`);\n      return true;\n    }\n    \n    // Otherwise, prevent the connection\n    existing.count++;\n    console.log(`üîå ConnectionManager: Blocked connection ${connectionId} for ${url} (${existing.count} attempts in ${timeSinceLastConnection}ms)`);\n    return false;\n  }\n  \n  /**\n   * Unregister a connection\n   */\n  unregisterConnection(url, connectionId) {\n    const existing = this.connections.get(url);\n    if (existing && existing.connectionId === connectionId) {\n      this.connections.delete(url);\n      console.log(`üîå ConnectionManager: Unregistered connection ${connectionId} for ${url}`);\n    }\n  }\n  \n  /**\n   * Check if a connection is allowed\n   */\n  isConnectionAllowed(url) {\n    const existing = this.connections.get(url);\n    if (!existing) {\n      return true;\n    }\n    \n    const timeSinceLastConnection = Date.now() - existing.timestamp;\n    return timeSinceLastConnection > 30000; // Allow if more than 30 seconds ago\n  }\n  \n  /**\n   * Get connection info\n   */\n  getConnectionInfo(url) {\n    return this.connections.get(url);\n  }\n  \n  /**\n   * Clear all connections (useful for testing)\n   */\n  clearAll() {\n    this.connections.clear();\n    console.log('üîå ConnectionManager: Cleared all connections');\n  }\n}\n\n// Global instance\nconst connectionManager = new ConnectionManager();\n\nexport default connectionManager;\n","/**\n * TTP Agent SDK - Main Entry Point\n * \n * A comprehensive SDK for voice interaction with AI agents.\n * Provides real-time audio recording, WebSocket communication, and audio playback.\n * \n * Features:\n * - üé§ Real-time Audio Recording with AudioWorklet\n * - üîÑ WebSocket Communication with authentication\n * - üîä Audio Playback with queue management\n * - ‚öõÔ∏è React Components\n * - üåê Vanilla JavaScript Components\n * - üéØ Event-driven architecture\n * - üîí Multiple authentication methods\n */\n\n// Core SDK\nexport { default as VoiceSDK } from './core/VoiceSDK.js';\nexport { default as WebSocketManager } from './core/WebSocketManager.js';\nexport { default as WebSocketManagerV2 } from './core/WebSocketManagerV2.js';\nexport { default as AudioRecorder } from './core/AudioRecorder.js';\nexport { default as AudioPlayer } from './core/AudioPlayer.js';\nexport { default as EventEmitter } from './core/EventEmitter.js';\n\n// React components\nexport { default as VoiceButton } from './react/VoiceButton.jsx';\n\n// Vanilla JavaScript components\nexport { default as VanillaVoiceButton } from './vanilla/VoiceButton.js';\n\n// Legacy AgentSDK (for backward compatibility)\nexport { AgentSDK, AgentWidget } from './legacy/AgentSDK.js';\n\n// Version\nexport const VERSION = '2.0.0';\n\n// Default export for convenience\nexport default {\n  VoiceSDK,\n  WebSocketManager,\n  WebSocketManagerV2,\n  AudioRecorder,\n  AudioPlayer,\n  EventEmitter,\n  VoiceButton,\n  VanillaVoiceButton,\n  AgentSDK,\n  AgentWidget,\n  VERSION\n};"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__12__","Symbol","for","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","e","t","r","n","iterator","toStringTag","i","c","Generator","u","create","_regeneratorDefine2","f","p","y","G","v","a","bind","length","l","TypeError","done","value","return","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","_invoke","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_defineProperties","_toPropertyKey","_typeof","toPrimitive","String","_toPrimitive","_isNativeReflectConstruct","Boolean","valueOf","Reflect","construct","_getPrototypeOf","_setPrototypeOf","_EventEmitter","WebSocketSingleton","_this","_classCallCheck","ReferenceError","_assertThisInitialized","_possibleConstructorReturn","constructor","apply","_callSuper","connections","Map","connectionCounts","creatingConnections","Set","_inherits","_callee","url","existingConnection","connection","_this2","_context","has","set","console","log","concat","checkConnection","setTimeout","add","WebSocket","addEventListener","event","delete","emit","code","_getConnection","arguments","_next","_throw","_x","currentCount","newCount","Math","max","readyState","OPEN","close","exists","subscribers","_step","result","_iterator","_createForOfIteratorHelper","entries","s","_step$value","_slicedToArray","err","_step2","_iterator2","_step2$value","clear","EventEmitter","events","callback","push","filter","cb","_len","args","Array","_key","forEach","error","ConnectionManager","connectionId","timestamp","Date","now","count","existing","timeSinceLastConnection","VoiceSDK","WebSocketManager","WebSocketManagerV2","AudioRecorder","AudioPlayer","VoiceButton","VanillaVoiceButton","AgentSDK","AgentWidget","VERSION"],"sourceRoot":""}