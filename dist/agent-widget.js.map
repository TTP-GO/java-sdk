{"version":3,"file":"agent-widget.js","mappings":"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","sources":["webpack://TTPAgentSDK/webpack/universalModuleDefinition","webpack://TTPAgentSDK/./node_modules/react/index.js","webpack://TTPAgentSDK/./node_modules/react/cjs/react-jsx-runtime.production.js","webpack://TTPAgentSDK/./node_modules/react/jsx-runtime.js","webpack://TTPAgentSDK/./node_modules/react/cjs/react.production.js","webpack://TTPAgentSDK/webpack/bootstrap","webpack://TTPAgentSDK/webpack/runtime/define property getters","webpack://TTPAgentSDK/webpack/runtime/hasOwnProperty shorthand","webpack://TTPAgentSDK/webpack/runtime/make namespace object","webpack://TTPAgentSDK/./src/core/EventEmitter.js","webpack://TTPAgentSDK/./src/core/WebSocketSingleton.js","webpack://TTPAgentSDK/./src/core/WebSocketManager.js","webpack://TTPAgentSDK/./src/core/AudioRecorder.js","webpack://TTPAgentSDK/./src/core/AudioPlayer.js","webpack://TTPAgentSDK/./src/core/VoiceSDK.js","webpack://TTPAgentSDK/./src/core/TextChatSDK.js","webpack://TTPAgentSDK/./src/react/VoiceButton.jsx","webpack://TTPAgentSDK/./src/vanilla/VoiceButton.js","webpack://TTPAgentSDK/./src/legacy/AgentSDK.js","webpack://TTPAgentSDK/./src/legacy/TextChatWidget.js","webpack://TTPAgentSDK/./src/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"TTPAgentSDK\"] = factory();\n\telse\n\t\troot[\"TTPAgentSDK\"] = factory();\n})(window, () => {\nreturn ","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/**\n * @license React\n * react-jsx-runtime.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\nfunction jsxProd(type, config, maybeKey) {\n  var key = null;\n  void 0 !== maybeKey && (key = \"\" + maybeKey);\n  void 0 !== config.key && (key = \"\" + config.key);\n  if (\"key\" in config) {\n    maybeKey = {};\n    for (var propName in config)\n      \"key\" !== propName && (maybeKey[propName] = config[propName]);\n  } else maybeKey = config;\n  config = maybeKey.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== config ? config : null,\n    props: maybeKey\n  };\n}\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsxProd;\nexports.jsxs = jsxProd;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * react.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n  REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar ReactNoopUpdateQueue = {\n    isMounted: function () {\n      return !1;\n    },\n    enqueueForceUpdate: function () {},\n    enqueueReplaceState: function () {},\n    enqueueSetState: function () {}\n  },\n  assign = Object.assign,\n  emptyObject = {};\nfunction Component(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nComponent.prototype.isReactComponent = {};\nComponent.prototype.setState = function (partialState, callback) {\n  if (\n    \"object\" !== typeof partialState &&\n    \"function\" !== typeof partialState &&\n    null != partialState\n  )\n    throw Error(\n      \"takes an object of state variables to update or a function which returns an object of state variables.\"\n    );\n  this.updater.enqueueSetState(this, partialState, callback, \"setState\");\n};\nComponent.prototype.forceUpdate = function (callback) {\n  this.updater.enqueueForceUpdate(this, callback, \"forceUpdate\");\n};\nfunction ComponentDummy() {}\nComponentDummy.prototype = Component.prototype;\nfunction PureComponent(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nvar pureComponentPrototype = (PureComponent.prototype = new ComponentDummy());\npureComponentPrototype.constructor = PureComponent;\nassign(pureComponentPrototype, Component.prototype);\npureComponentPrototype.isPureReactComponent = !0;\nvar isArrayImpl = Array.isArray;\nfunction noop() {}\nvar ReactSharedInternals = { H: null, A: null, T: null, S: null },\n  hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction ReactElement(type, key, props) {\n  var refProp = props.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== refProp ? refProp : null,\n    props: props\n  };\n}\nfunction cloneAndReplaceKey(oldElement, newKey) {\n  return ReactElement(oldElement.type, newKey, oldElement.props);\n}\nfunction isValidElement(object) {\n  return (\n    \"object\" === typeof object &&\n    null !== object &&\n    object.$$typeof === REACT_ELEMENT_TYPE\n  );\n}\nfunction escape(key) {\n  var escaperLookup = { \"=\": \"=0\", \":\": \"=2\" };\n  return (\n    \"$\" +\n    key.replace(/[=:]/g, function (match) {\n      return escaperLookup[match];\n    })\n  );\n}\nvar userProvidedKeyEscapeRegex = /\\/+/g;\nfunction getElementKey(element, index) {\n  return \"object\" === typeof element && null !== element && null != element.key\n    ? escape(\"\" + element.key)\n    : index.toString(36);\n}\nfunction resolveThenable(thenable) {\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw thenable.reason;\n    default:\n      switch (\n        (\"string\" === typeof thenable.status\n          ? thenable.then(noop, noop)\n          : ((thenable.status = \"pending\"),\n            thenable.then(\n              function (fulfilledValue) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"fulfilled\"),\n                  (thenable.value = fulfilledValue));\n              },\n              function (error) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"rejected\"), (thenable.reason = error));\n              }\n            )),\n        thenable.status)\n      ) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw thenable.reason;\n      }\n  }\n  throw thenable;\n}\nfunction mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {\n  var type = typeof children;\n  if (\"undefined\" === type || \"boolean\" === type) children = null;\n  var invokeCallback = !1;\n  if (null === children) invokeCallback = !0;\n  else\n    switch (type) {\n      case \"bigint\":\n      case \"string\":\n      case \"number\":\n        invokeCallback = !0;\n        break;\n      case \"object\":\n        switch (children.$$typeof) {\n          case REACT_ELEMENT_TYPE:\n          case REACT_PORTAL_TYPE:\n            invokeCallback = !0;\n            break;\n          case REACT_LAZY_TYPE:\n            return (\n              (invokeCallback = children._init),\n              mapIntoArray(\n                invokeCallback(children._payload),\n                array,\n                escapedPrefix,\n                nameSoFar,\n                callback\n              )\n            );\n        }\n    }\n  if (invokeCallback)\n    return (\n      (callback = callback(children)),\n      (invokeCallback =\n        \"\" === nameSoFar ? \".\" + getElementKey(children, 0) : nameSoFar),\n      isArrayImpl(callback)\n        ? ((escapedPrefix = \"\"),\n          null != invokeCallback &&\n            (escapedPrefix =\n              invokeCallback.replace(userProvidedKeyEscapeRegex, \"$&/\") + \"/\"),\n          mapIntoArray(callback, array, escapedPrefix, \"\", function (c) {\n            return c;\n          }))\n        : null != callback &&\n          (isValidElement(callback) &&\n            (callback = cloneAndReplaceKey(\n              callback,\n              escapedPrefix +\n                (null == callback.key ||\n                (children && children.key === callback.key)\n                  ? \"\"\n                  : (\"\" + callback.key).replace(\n                      userProvidedKeyEscapeRegex,\n                      \"$&/\"\n                    ) + \"/\") +\n                invokeCallback\n            )),\n          array.push(callback)),\n      1\n    );\n  invokeCallback = 0;\n  var nextNamePrefix = \"\" === nameSoFar ? \".\" : nameSoFar + \":\";\n  if (isArrayImpl(children))\n    for (var i = 0; i < children.length; i++)\n      (nameSoFar = children[i]),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (((i = getIteratorFn(children)), \"function\" === typeof i))\n    for (\n      children = i.call(children), i = 0;\n      !(nameSoFar = children.next()).done;\n\n    )\n      (nameSoFar = nameSoFar.value),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i++)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (\"object\" === type) {\n    if (\"function\" === typeof children.then)\n      return mapIntoArray(\n        resolveThenable(children),\n        array,\n        escapedPrefix,\n        nameSoFar,\n        callback\n      );\n    array = String(children);\n    throw Error(\n      \"Objects are not valid as a React child (found: \" +\n        (\"[object Object]\" === array\n          ? \"object with keys {\" + Object.keys(children).join(\", \") + \"}\"\n          : array) +\n        \"). If you meant to render a collection of children, use an array instead.\"\n    );\n  }\n  return invokeCallback;\n}\nfunction mapChildren(children, func, context) {\n  if (null == children) return children;\n  var result = [],\n    count = 0;\n  mapIntoArray(children, result, \"\", \"\", function (child) {\n    return func.call(context, child, count++);\n  });\n  return result;\n}\nfunction lazyInitializer(payload) {\n  if (-1 === payload._status) {\n    var ctor = payload._result;\n    ctor = ctor();\n    ctor.then(\n      function (moduleObject) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 1), (payload._result = moduleObject);\n      },\n      function (error) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 2), (payload._result = error);\n      }\n    );\n    -1 === payload._status && ((payload._status = 0), (payload._result = ctor));\n  }\n  if (1 === payload._status) return payload._result.default;\n  throw payload._result;\n}\nvar reportGlobalError =\n    \"function\" === typeof reportError\n      ? reportError\n      : function (error) {\n          if (\n            \"object\" === typeof window &&\n            \"function\" === typeof window.ErrorEvent\n          ) {\n            var event = new window.ErrorEvent(\"error\", {\n              bubbles: !0,\n              cancelable: !0,\n              message:\n                \"object\" === typeof error &&\n                null !== error &&\n                \"string\" === typeof error.message\n                  ? String(error.message)\n                  : String(error),\n              error: error\n            });\n            if (!window.dispatchEvent(event)) return;\n          } else if (\n            \"object\" === typeof process &&\n            \"function\" === typeof process.emit\n          ) {\n            process.emit(\"uncaughtException\", error);\n            return;\n          }\n          console.error(error);\n        },\n  Children = {\n    map: mapChildren,\n    forEach: function (children, forEachFunc, forEachContext) {\n      mapChildren(\n        children,\n        function () {\n          forEachFunc.apply(this, arguments);\n        },\n        forEachContext\n      );\n    },\n    count: function (children) {\n      var n = 0;\n      mapChildren(children, function () {\n        n++;\n      });\n      return n;\n    },\n    toArray: function (children) {\n      return (\n        mapChildren(children, function (child) {\n          return child;\n        }) || []\n      );\n    },\n    only: function (children) {\n      if (!isValidElement(children))\n        throw Error(\n          \"React.Children.only expected to receive a single React element child.\"\n        );\n      return children;\n    }\n  };\nexports.Activity = REACT_ACTIVITY_TYPE;\nexports.Children = Children;\nexports.Component = Component;\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.Profiler = REACT_PROFILER_TYPE;\nexports.PureComponent = PureComponent;\nexports.StrictMode = REACT_STRICT_MODE_TYPE;\nexports.Suspense = REACT_SUSPENSE_TYPE;\nexports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  ReactSharedInternals;\nexports.__COMPILER_RUNTIME = {\n  __proto__: null,\n  c: function (size) {\n    return ReactSharedInternals.H.useMemoCache(size);\n  }\n};\nexports.cache = function (fn) {\n  return function () {\n    return fn.apply(null, arguments);\n  };\n};\nexports.cacheSignal = function () {\n  return null;\n};\nexports.cloneElement = function (element, config, children) {\n  if (null === element || void 0 === element)\n    throw Error(\n      \"The argument must be a React element, but you passed \" + element + \".\"\n    );\n  var props = assign({}, element.props),\n    key = element.key;\n  if (null != config)\n    for (propName in (void 0 !== config.key && (key = \"\" + config.key), config))\n      !hasOwnProperty.call(config, propName) ||\n        \"key\" === propName ||\n        \"__self\" === propName ||\n        \"__source\" === propName ||\n        (\"ref\" === propName && void 0 === config.ref) ||\n        (props[propName] = config[propName]);\n  var propName = arguments.length - 2;\n  if (1 === propName) props.children = children;\n  else if (1 < propName) {\n    for (var childArray = Array(propName), i = 0; i < propName; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  return ReactElement(element.type, key, props);\n};\nexports.createContext = function (defaultValue) {\n  defaultValue = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    _currentValue: defaultValue,\n    _currentValue2: defaultValue,\n    _threadCount: 0,\n    Provider: null,\n    Consumer: null\n  };\n  defaultValue.Provider = defaultValue;\n  defaultValue.Consumer = {\n    $$typeof: REACT_CONSUMER_TYPE,\n    _context: defaultValue\n  };\n  return defaultValue;\n};\nexports.createElement = function (type, config, children) {\n  var propName,\n    props = {},\n    key = null;\n  if (null != config)\n    for (propName in (void 0 !== config.key && (key = \"\" + config.key), config))\n      hasOwnProperty.call(config, propName) &&\n        \"key\" !== propName &&\n        \"__self\" !== propName &&\n        \"__source\" !== propName &&\n        (props[propName] = config[propName]);\n  var childrenLength = arguments.length - 2;\n  if (1 === childrenLength) props.children = children;\n  else if (1 < childrenLength) {\n    for (var childArray = Array(childrenLength), i = 0; i < childrenLength; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  if (type && type.defaultProps)\n    for (propName in ((childrenLength = type.defaultProps), childrenLength))\n      void 0 === props[propName] &&\n        (props[propName] = childrenLength[propName]);\n  return ReactElement(type, key, props);\n};\nexports.createRef = function () {\n  return { current: null };\n};\nexports.forwardRef = function (render) {\n  return { $$typeof: REACT_FORWARD_REF_TYPE, render: render };\n};\nexports.isValidElement = isValidElement;\nexports.lazy = function (ctor) {\n  return {\n    $$typeof: REACT_LAZY_TYPE,\n    _payload: { _status: -1, _result: ctor },\n    _init: lazyInitializer\n  };\n};\nexports.memo = function (type, compare) {\n  return {\n    $$typeof: REACT_MEMO_TYPE,\n    type: type,\n    compare: void 0 === compare ? null : compare\n  };\n};\nexports.startTransition = function (scope) {\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  try {\n    var returnValue = scope(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    \"object\" === typeof returnValue &&\n      null !== returnValue &&\n      \"function\" === typeof returnValue.then &&\n      returnValue.then(noop, reportGlobalError);\n  } catch (error) {\n    reportGlobalError(error);\n  } finally {\n    null !== prevTransition &&\n      null !== currentTransition.types &&\n      (prevTransition.types = currentTransition.types),\n      (ReactSharedInternals.T = prevTransition);\n  }\n};\nexports.unstable_useCacheRefresh = function () {\n  return ReactSharedInternals.H.useCacheRefresh();\n};\nexports.use = function (usable) {\n  return ReactSharedInternals.H.use(usable);\n};\nexports.useActionState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useActionState(action, initialState, permalink);\n};\nexports.useCallback = function (callback, deps) {\n  return ReactSharedInternals.H.useCallback(callback, deps);\n};\nexports.useContext = function (Context) {\n  return ReactSharedInternals.H.useContext(Context);\n};\nexports.useDebugValue = function () {};\nexports.useDeferredValue = function (value, initialValue) {\n  return ReactSharedInternals.H.useDeferredValue(value, initialValue);\n};\nexports.useEffect = function (create, deps) {\n  return ReactSharedInternals.H.useEffect(create, deps);\n};\nexports.useEffectEvent = function (callback) {\n  return ReactSharedInternals.H.useEffectEvent(callback);\n};\nexports.useId = function () {\n  return ReactSharedInternals.H.useId();\n};\nexports.useImperativeHandle = function (ref, create, deps) {\n  return ReactSharedInternals.H.useImperativeHandle(ref, create, deps);\n};\nexports.useInsertionEffect = function (create, deps) {\n  return ReactSharedInternals.H.useInsertionEffect(create, deps);\n};\nexports.useLayoutEffect = function (create, deps) {\n  return ReactSharedInternals.H.useLayoutEffect(create, deps);\n};\nexports.useMemo = function (create, deps) {\n  return ReactSharedInternals.H.useMemo(create, deps);\n};\nexports.useOptimistic = function (passthrough, reducer) {\n  return ReactSharedInternals.H.useOptimistic(passthrough, reducer);\n};\nexports.useReducer = function (reducer, initialArg, init) {\n  return ReactSharedInternals.H.useReducer(reducer, initialArg, init);\n};\nexports.useRef = function (initialValue) {\n  return ReactSharedInternals.H.useRef(initialValue);\n};\nexports.useState = function (initialState) {\n  return ReactSharedInternals.H.useState(initialState);\n};\nexports.useSyncExternalStore = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot\n) {\n  return ReactSharedInternals.H.useSyncExternalStore(\n    subscribe,\n    getSnapshot,\n    getServerSnapshot\n  );\n};\nexports.useTransition = function () {\n  return ReactSharedInternals.H.useTransition();\n};\nexports.version = \"19.2.0\";\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * EventEmitter - Simple event system for the VoiceSDK\n */\nexport default class EventEmitter {\n  constructor() {\n    this.events = {};\n  }\n  \n  /**\n   * Add event listener\n   */\n  on(event, callback) {\n    if (!this.events[event]) {\n      this.events[event] = [];\n    }\n    this.events[event].push(callback);\n  }\n  \n  /**\n   * Remove event listener\n   */\n  off(event, callback) {\n    if (!this.events[event]) return;\n    \n    this.events[event] = this.events[event].filter(cb => cb !== callback);\n  }\n  \n  /**\n   * Emit event\n   */\n  emit(event, ...args) {\n    if (!this.events[event]) return;\n    \n    this.events[event].forEach(callback => {\n      try {\n        callback(...args);\n      } catch (error) {\n        console.error(`Error in event listener for ${event}:`, error);\n      }\n    });\n  }\n  \n  /**\n   * Remove all listeners for an event\n   */\n  removeAllListeners(event) {\n    if (event) {\n      delete this.events[event];\n    } else {\n      this.events = {};\n    }\n  }\n}\n","/**\n * WebSocketSingleton - Ensures only one WebSocket connection per URL exists\n */\nimport EventEmitter from './EventEmitter.js';\n\nclass WebSocketSingleton extends EventEmitter {\n  constructor() {\n    super();\n    this.connections = new Map(); // Map of URL -> WebSocket instance\n    this.connectionCounts = new Map(); // Map of URL -> number of subscribers\n    this.creatingConnections = new Set(); // Set of URLs currently being created\n  }\n  \n  /**\n   * Get or create a WebSocket connection\n   */\n  async getConnection(url, config = {}) {\n    // If connection already exists, just return it\n    if (this.connections.has(url)) {\n      const existingConnection = this.connections.get(url);\n      this.connectionCounts.set(url, (this.connectionCounts.get(url) || 0) + 1);\n      return existingConnection;\n    }\n    \n    // Check if we're already in the process of creating a connection\n    if (this.creatingConnections && this.creatingConnections.has(url)) {\n      // Wait for the existing creation to complete\n      return new Promise((resolve) => {\n        const checkConnection = () => {\n          if (this.connections.has(url)) {\n            const existingConnection = this.connections.get(url);\n            this.connectionCounts.set(url, (this.connectionCounts.get(url) || 0) + 1);\n            resolve(existingConnection);\n          } else {\n            setTimeout(checkConnection, 50);\n          }\n        };\n        checkConnection();\n      });\n    }\n    \n    // Create new connection\n    this.creatingConnections.add(url);\n    const connection = new WebSocket(url);\n    this.connections.set(url, connection);\n    this.connectionCounts.set(url, 1);\n    \n    // Set up event forwarding\n    connection.addEventListener('open', (event) => {\n      this.creatingConnections.delete(url);\n      this.emit('open', event, url);\n    });\n    \n    connection.addEventListener('close', (event) => {\n      this.creatingConnections.delete(url);\n      this.connections.delete(url);\n      this.connectionCounts.delete(url);\n      this.emit('close', event, url);\n    });\n    \n    connection.addEventListener('error', (event) => {\n      this.creatingConnections.delete(url);\n      this.emit('error', event, url);\n    });\n    \n    connection.addEventListener('message', (event) => {\n      this.emit('message', event, url);\n    });\n    \n    return connection;\n  }\n  \n  /**\n   * Release a connection (decrement subscriber count)\n   */\n  releaseConnection(url) {\n    if (!this.connections.has(url)) {\n      return;\n    }\n    \n    const currentCount = this.connectionCounts.get(url) || 0;\n    const newCount = Math.max(0, currentCount - 1);\n    this.connectionCounts.set(url, newCount);\n    \n    // If no more subscribers, close the connection\n    if (newCount === 0) {\n      const connection = this.connections.get(url);\n      if (connection && connection.readyState === WebSocket.OPEN) {\n        connection.close(1000, 'No more subscribers');\n      }\n      this.connections.delete(url);\n      this.connectionCounts.delete(url);\n    }\n  }\n  \n  /**\n   * Force close a connection\n   */\n  forceClose(url) {\n    if (this.connections.has(url)) {\n      const connection = this.connections.get(url);\n      if (connection && connection.readyState === WebSocket.OPEN) {\n        connection.close(1000, 'Force close');\n      }\n      this.connections.delete(url);\n      this.connectionCounts.delete(url);\n    }\n  }\n  \n  /**\n   * Get connection status\n   */\n  getConnectionStatus(url) {\n    if (!this.connections.has(url)) {\n      return { exists: false, readyState: null, subscribers: 0 };\n    }\n    \n    const connection = this.connections.get(url);\n    return {\n      exists: true,\n      readyState: connection.readyState,\n      subscribers: this.connectionCounts.get(url) || 0\n    };\n  }\n  \n  /**\n   * Get all active connections\n   */\n  getAllConnections() {\n    const result = {};\n    for (const [url, connection] of this.connections.entries()) {\n      result[url] = {\n        readyState: connection.readyState,\n        subscribers: this.connectionCounts.get(url) || 0\n      };\n    }\n    return result;\n  }\n  \n  /**\n   * Clear all connections (for testing)\n   */\n  clearAll() {\n    for (const [url, connection] of this.connections.entries()) {\n      if (connection && connection.readyState === WebSocket.OPEN) {\n        connection.close(1000, 'Clear all');\n      }\n    }\n    this.connections.clear();\n    this.connectionCounts.clear();\n    this.creatingConnections.clear();\n  }\n}\n\n// Global singleton instance\nconst webSocketSingleton = new WebSocketSingleton();\n\nexport default webSocketSingleton;\n","/**\n * WebSocketManager - Uses singleton pattern to prevent multiple connections\n */\nimport EventEmitter from './EventEmitter.js';\nimport webSocketSingleton from './WebSocketSingleton.js';\n\nexport default class WebSocketManager extends EventEmitter {\n  constructor(config) {\n    super();\n    this.config = config;\n    this.ws = null;\n    this.isConnected = false;\n    this.connectionId = null;\n  }\n  \n  /**\n   * Connect to WebSocket using singleton\n   */\n  async connect() {\n    return new Promise((resolve, reject) => {\n      try {\n        this.connectionId = Date.now() + '_' + Math.random().toString(36).substr(2, 9);\n        \n        // Store resolve/reject for later use\n        this.connectResolve = resolve;\n        this.connectReject = reject;\n        \n        // Get connection from singleton\n        webSocketSingleton.getConnection(this.config.websocketUrl, this.config)\n          .then((connection) => {\n            this.ws = connection;\n            \n            // Set up event listeners (this will set up handlers that can resolve the promise)\n            this.setupEventListeners();\n            \n            // If already connected, resolve immediately\n            if (connection.readyState === WebSocket.OPEN) {\n              this.isConnected = true;\n              this.emit('connected');\n              resolve();\n              this.connectResolve = null;\n              this.connectReject = null;\n            }\n          })\n          .catch((error) => {\n            console.error(` WebSocketManager: Connection failed ${this.connectionId}`, error);\n            reject(error);\n            this.connectResolve = null;\n            this.connectReject = null;\n          });\n        \n      } catch (error) {\n        console.error(` WebSocketManager: Connection error ${this.connectionId}`, error);\n        reject(error);\n        this.connectResolve = null;\n        this.connectReject = null;\n      }\n    });\n  }\n  \n  /**\n   * Set up event listeners\n   */\n  setupEventListeners() {\n    if (!this.ws) return;\n    \n    // Use singleton's event forwarding\n    const handleOpen = (event, url) => {\n      if (url === this.config.websocketUrl) {\n        this.isConnected = true;\n        this.emit('connected');\n        \n        // Resolve the connect promise if it hasn't been resolved yet\n        if (this.connectResolve) {\n          this.connectResolve();\n          this.connectResolve = null;\n          this.connectReject = null;\n        }\n      }\n    };\n    \n    const handleClose = (event, url) => {\n      if (url === this.config.websocketUrl) {\n        this.isConnected = false;\n        this.emit('disconnected', event);\n      }\n    };\n    \n    const handleError = (event, url) => {\n      if (url === this.config.websocketUrl) {\n        this.emit('error', event);\n        \n        // Reject the connect promise if it hasn't been resolved yet\n        if (this.connectReject) {\n          this.connectReject(event);\n          this.connectResolve = null;\n          this.connectReject = null;\n        }\n      }\n    };\n    \n    const handleMessage = (event, url) => {\n      if (url === this.config.websocketUrl) {\n        this.handleMessage(event);\n      }\n    };\n    \n    // Add event listeners\n    webSocketSingleton.on('open', handleOpen);\n    webSocketSingleton.on('close', handleClose);\n    webSocketSingleton.on('error', handleError);\n    webSocketSingleton.on('message', handleMessage);\n    \n    // Store handlers for cleanup\n    this.eventHandlers = {\n      open: handleOpen,\n      close: handleClose,\n      error: handleError,\n      message: handleMessage\n    };\n  }\n  \n  /**\n   * Disconnect from WebSocket\n   */\n  disconnect() {\n    // Remove event listeners\n    if (this.eventHandlers) {\n      webSocketSingleton.off('open', this.eventHandlers.open);\n      webSocketSingleton.off('close', this.eventHandlers.close);\n      webSocketSingleton.off('error', this.eventHandlers.error);\n      webSocketSingleton.off('message', this.eventHandlers.message);\n    }\n    \n    // Release connection from singleton\n    if (this.config.websocketUrl) {\n      webSocketSingleton.releaseConnection(this.config.websocketUrl);\n    }\n    \n    this.ws = null;\n    this.isConnected = false;\n  }\n  \n  /**\n   * Send JSON message\n   */\n  sendMessage(message) {\n    if (!this.isConnected || !this.ws) {\n      // Silently ignore if not connected (may happen during cleanup/disconnect)\n      return;\n    }\n    \n    try {\n      this.ws.send(JSON.stringify(message));\n    } catch (error) {\n      // Log but don't throw - connection may have closed between check and send\n      console.warn(' WebSocketManager: Failed to send message:', error.message);\n    }\n  }\n  \n  /**\n   * Send binary data\n   */\n  sendBinary(data) {\n    if (!this.isConnected || !this.ws) {\n      // Silently ignore if not connected (may happen during cleanup/disconnect)\n      return;\n    }\n    \n    try {\n      this.ws.send(data);\n    } catch (error) {\n      // Log but don't throw - connection may have closed between check and send\n      console.warn(' WebSocketManager: Failed to send binary data:', error.message);\n    }\n  }\n  \n  /**\n   * Handle incoming messages\n   */\n  handleMessage(event) {\n    // Check if it's binary data\n    if (event.data instanceof ArrayBuffer) {\n      this.emit('binaryAudio', event.data);\n      return;\n    } else if (event.data instanceof Blob) {\n      event.data.arrayBuffer().then(arrayBuffer => {\n        this.emit('binaryAudio', arrayBuffer);\n      }).catch(err => {\n        console.error(' WebSocketManager: Error converting Blob to ArrayBuffer:', err);\n      });\n      return;\n    }\n    \n    // Handle JSON messages\n    try {\n      const message = JSON.parse(event.data);\n      \n      // Handle barge-in related messages\n      if (message.t === 'barge_in_ack' || message.t === 'stop_sending') {\n        this.emit('bargeIn', message);\n      }\n      \n      // Handle stop playing message\n      if (message.t === 'stop_playing') {\n        this.emit('stopPlaying', message);\n      }\n      \n      this.emit('message', message);\n    } catch (error) {\n      this.emit('error', error);\n    }\n  }\n  \n  /**\n   * Get connection status\n   */\n  getStatus() {\n    return {\n      isConnected: this.isConnected,\n      readyState: this.ws ? this.ws.readyState : null,\n      connectionId: this.connectionId\n    };\n  }\n  \n  /**\n   * Get singleton status (for debugging)\n   */\n  static getSingletonStatus() {\n    return webSocketSingleton.getAllConnections();\n  }\n  \n  /**\n   * Clear all singleton connections (for testing)\n   */\n  static clearAllConnections() {\n    webSocketSingleton.clearAll();\n  }\n}\n","/**\n * AudioRecorder - Handles audio recording using AudioWorklet\n */\nimport EventEmitter from './EventEmitter.js';\n\nexport default class AudioRecorder extends EventEmitter {\n  constructor(config) {\n    super();\n    this.config = config;\n    this.audioContext = null;\n    this.audioWorkletNode = null;\n    this.mediaStream = null;\n    this.isRecording = false;\n  }\n  \n  /**\n   * Start audio recording\n   */\n  async start() {\n    try {\n      // Get user media\n      this.mediaStream = await navigator.mediaDevices.getUserMedia({\n        audio: {\n          sampleRate: this.config.sampleRate,\n          channelCount: 1,\n          echoCancellation: true,\n          noiseSuppression: true,\n          autoGainControl: true\n        }\n      });\n      \n      // Create AudioContext\n      this.audioContext = new (window.AudioContext || window.webkitAudioContext)({\n        sampleRate: this.config.sampleRate\n      });\n      \n      // Resume AudioContext if suspended\n      if (this.audioContext.state === 'suspended') {\n        await this.audioContext.resume();\n      }\n      \n      // Load AudioWorklet module\n      await this.audioContext.audioWorklet.addModule('/audio-processor.js');\n      \n      // Create AudioWorklet node\n      this.audioWorkletNode = new AudioWorkletNode(this.audioContext, 'audio-processor');\n      \n      // Create media stream source\n      const source = this.audioContext.createMediaStreamSource(this.mediaStream);\n      source.connect(this.audioWorkletNode);\n      \n      // Handle messages from AudioWorklet\n      this.audioWorkletNode.port.onmessage = (event) => {\n        const { type, data } = event.data;\n        \n        if (type === 'pcm_audio_data') {\n          this.emit('audioData', data);\n        }\n      };\n      \n      // Enable continuous mode\n      this.audioWorkletNode.port.postMessage({\n        type: 'setForceContinuous',\n        data: { enabled: true }\n      });\n      \n      this.isRecording = true;\n      this.emit('recordingStarted');\n      \n    } catch (error) {\n      this.emit('error', error);\n      throw error;\n    }\n  }\n  \n  /**\n   * Stop audio recording\n   */\n  async stop() {\n    if (!this.isRecording) {\n      return;\n    }\n    \n    try {\n      // Flush any remaining audio data\n      if (this.audioWorkletNode) {\n        this.audioWorkletNode.port.postMessage({ type: 'flush' });\n        await new Promise(resolve => setTimeout(resolve, 100));\n      }\n      \n      // Disconnect and cleanup\n      if (this.mediaStream) {\n        this.mediaStream.getTracks().forEach(track => track.stop());\n        this.mediaStream = null;\n      }\n      \n      if (this.audioContext && this.audioContext.state !== 'closed') {\n        await this.audioContext.close();\n        this.audioContext = null;\n      }\n      \n      this.audioWorkletNode = null;\n      this.isRecording = false;\n      this.emit('recordingStopped');\n      \n    } catch (error) {\n      this.emit('error', error);\n      throw error;\n    }\n  }\n  \n  /**\n   * Get recording status\n   */\n  getStatus() {\n    return {\n      isRecording: this.isRecording,\n      audioContextState: this.audioContext ? this.audioContext.state : 'closed'\n    };\n  }\n  \n  /**\n   * Cleanup resources\n   */\n  destroy() {\n    this.stop();\n  }\n}\n","/**\n * AudioPlayer - Handles audio playback with queue system\n */\nimport EventEmitter from './EventEmitter.js';\n\nexport default class AudioPlayer extends EventEmitter {\n  constructor(config) {\n    super();\n    this.config = config;\n    this.audioContext = null;\n    this.audioQueue = [];\n    this.isPlaying = false;\n    this.isProcessingQueue = false;\n    this.currentSource = null;\n  }\n  \n  /**\n   * Add audio data to playback queue\n   */\n  playAudio(audioData) {\n    try {\n      const audioBlob = this.createAudioBlob(audioData);\n      this.audioQueue.push(audioBlob);\n      \n      // Process queue if not already playing or processing\n      // Also check if we have a current source - if not, we should start processing\n      if (!this.isPlaying && !this.isProcessingQueue && !this.currentSource) {\n        setTimeout(() => this.processQueue(), 50);\n      }\n    } catch (error) {\n      this.emit('playbackError', error);\n    }\n  }\n  \n  /**\n   * Create audio blob from ArrayBuffer\n   */\n  createAudioBlob(arrayBuffer) {\n    const uint8Array = new Uint8Array(arrayBuffer);\n    \n    // Detect audio format\n    if (uint8Array.length >= 4) {\n      // WAV header (RIFF)\n      if (uint8Array[0] === 0x52 && uint8Array[1] === 0x49 && \n          uint8Array[2] === 0x46 && uint8Array[3] === 0x46) {\n        return new Blob([arrayBuffer], { type: 'audio/wav' });\n      }\n      \n      // MP3 header\n      if (uint8Array[0] === 0xFF && (uint8Array[1] & 0xE0) === 0xE0) {\n        return new Blob([arrayBuffer], { type: 'audio/mpeg' });\n      }\n      \n      // OGG header\n      if (uint8Array[0] === 0x4F && uint8Array[1] === 0x67 && \n          uint8Array[2] === 0x67 && uint8Array[3] === 0x53) {\n        return new Blob([arrayBuffer], { type: 'audio/ogg' });\n      }\n    }\n    \n    // Default to WAV format\n    return new Blob([arrayBuffer], { type: 'audio/wav' });\n  }\n  \n  /**\n   * Process audio queue\n   */\n  async processQueue() {\n    // Prevent multiple simultaneous queue processing\n    // Note: isPlaying check removed to allow seamless queue processing\n    if (this.isProcessingQueue || this.audioQueue.length === 0) {\n      return;\n    }\n    \n    this.isProcessingQueue = true;\n    \n    const audioBlob = this.audioQueue.shift();\n    if (!audioBlob) {\n      this.isProcessingQueue = false;\n      return;\n    }\n    \n    try {\n      // Check if we were playing BEFORE async operations (decode, etc.)\n      // This ensures we detect the true state before any async delays\n      const wasNotPlayingBefore = !this.isPlaying && this.currentSource === null;\n      \n      // Create AudioContext if not exists\n      if (!this.audioContext) {\n        this.audioContext = new (window.AudioContext || window.webkitAudioContext)();\n      }\n      \n      const audioContext = this.audioContext;\n      \n      // Resume AudioContext if suspended\n      if (audioContext.state === 'suspended') {\n        await audioContext.resume();\n      }\n      \n      // Create audio source from blob\n      const arrayBuffer = await audioBlob.arrayBuffer();\n      const audioBuffer = await audioContext.decodeAudioData(arrayBuffer);\n      \n      // Double-check state AFTER async operations - audio might have been stopped\n      // If currentSource is still null and isPlaying is still false, we're truly starting\n      const isTrulyStarting = wasNotPlayingBefore && !this.isPlaying && this.currentSource === null;\n      \n      const source = audioContext.createBufferSource();\n      source.buffer = audioBuffer;\n      source.connect(audioContext.destination);\n      \n      // Set state BEFORE emitting event to prevent race conditions\n      this.currentSource = source;\n      this.isPlaying = true;\n      \n      // Emit playbackStarted right before actually starting playback\n      // This ensures the event is sent when audio actually starts playing\n      // CRITICAL: This must be emitted when audio truly starts, not before\n      if (isTrulyStarting) {\n        this.emit('playbackStarted');\n      }\n      \n      // Handle audio end\n      source.onended = () => {\n        this.currentSource = null;\n        this.isProcessingQueue = false;\n        \n        // Process next audio in queue if there are more items\n        if (this.audioQueue.length > 0) {\n          // More audio to play - continue processing without emitting playbackStopped\n          // Keep isPlaying = true since we'll continue playing\n          // Use immediate processing to minimize gaps\n          setTimeout(() => this.processQueue(), 50);\n        } else {\n          // Queue is empty - playback has truly ended\n          // Small delay to ensure smooth transition if new audio arrives quickly\n          setTimeout(() => {\n            // Check again if new audio arrived during the delay\n            if (this.audioQueue.length === 0 && !this.currentSource) {\n              this.isPlaying = false;\n              this.emit('playbackStopped');\n            }\n          }, 100);\n        }\n      };\n      \n      // Start playback\n      source.start();\n      \n    } catch (error) {\n      this.currentSource = null;\n      this.emit('playbackError', error);\n      \n      // Try to process next audio in queue if there are more items\n      if (this.audioQueue.length > 0) {\n        this.isProcessingQueue = false;\n        setTimeout(() => this.processQueue(), 100);\n      } else {\n        // Queue is empty - playback has ended\n        this.isPlaying = false;\n        this.isProcessingQueue = false;\n        this.emit('playbackStopped');\n      }\n    }\n  }\n  \n  /**\n   * Stop current playback and clear queue\n   */\n  stop() {\n    this.stopImmediate();\n  }\n  \n  /**\n   * Stop current playback immediately and clear queue\n   */\n  stopImmediate() {\n    const wasPlaying = this.isPlaying || this.currentSource !== null;\n    \n    if (this.currentSource) {\n      try {\n        this.currentSource.stop();\n      } catch (error) {\n        // Ignore errors when stopping\n      }\n      this.currentSource = null;\n    }\n    \n    this.isPlaying = false;\n    this.isProcessingQueue = false;\n    this.audioQueue = [];\n    \n    // Only emit playbackStopped if audio was actually playing\n    if (wasPlaying) {\n      this.emit('playbackStopped');\n    }\n  }\n  \n  /**\n   * Get playback status\n   */\n  getStatus() {\n    return {\n      isPlaying: this.isPlaying,\n      isProcessingQueue: this.isProcessingQueue,\n      queueLength: this.audioQueue.length,\n      audioContextState: this.audioContext ? this.audioContext.state : 'closed'\n    };\n  }\n  \n  /**\n   * Cleanup resources\n   */\n  destroy() {\n    this.stop();\n    \n    if (this.audioContext && this.audioContext.state !== 'closed') {\n      this.audioContext.close();\n      this.audioContext = null;\n    }\n  }\n}\n","/**\n * VoiceSDK - Core voice interaction SDK\n * Handles WebSocket connection, audio recording, and audio playback\n */\nimport EventEmitter from './EventEmitter.js';\nimport WebSocketManager from './WebSocketManager.js';\nimport AudioRecorder from './AudioRecorder.js';\nimport AudioPlayer from './AudioPlayer.js';\n\nexport default class VoiceSDK extends EventEmitter {\n  constructor(config = {}) {\n    super();\n    \n    // Configuration\n    this.config = {\n      websocketUrl: config.websocketUrl || 'wss://speech.talktopc.com/ws/conv',\n      agentId: config.agentId, // Optional - for direct agent access (unsecured method)\n      appId: config.appId, // User's app ID for authentication\n      ttpId: config.ttpId, // Optional - custom TTP ID (fallback if appId not provided)\n      voice: config.voice || 'default',\n      language: config.language || 'en',\n      sampleRate: config.sampleRate || 16000,\n      ...config\n    };\n    \n    // State\n    this.isConnected = false;\n    this.isRecording = false;\n    this.isPlaying = false;\n    this.isDestroyed = false;\n    \n    // Components\n    this.webSocketManager = new WebSocketManager({\n      ...this.config,\n      autoReconnect: this.config.autoReconnect !== false // Default to true unless explicitly disabled\n    });\n    this.audioRecorder = new AudioRecorder(this.config);\n    this.audioPlayer = new AudioPlayer(this.config);\n    \n    // Bind event handlers\n    this.setupEventHandlers();\n  }\n  \n  /**\n   * Setup event handlers for all components\n   */\n  setupEventHandlers() {\n    // WebSocket events\n    this.webSocketManager.on('connected', () => {\n      this.isConnected = true;\n      this.sendHelloMessage();\n      this.emit('connected');\n    });\n    \n    this.webSocketManager.on('disconnected', (event) => {\n      this.isConnected = false;\n      \n      // IMPORTANT: Stop recording when WebSocket disconnects (e.g., no credits, max duration exceeded)\n      // This ensures microphone is released and no more audio is streamed\n      if (this.isRecording) {\n        this.stopRecording().catch(err => {\n          console.error('VoiceSDK: Error stopping recording on disconnect:', err);\n        });\n      }\n      \n      // Pass close event details (code, reason) to consumers\n      this.emit('disconnected', event);\n    });\n    \n    this.webSocketManager.on('error', (error) => {\n      this.emit('error', error);\n    });\n    \n    this.webSocketManager.on('message', (message) => {\n      // Handle greeting audio message\n      if (message.t === 'greeting_audio' && message.data) {\n        try {\n          // Convert base64 audio data to Uint8Array\n          const binaryString = atob(message.data);\n          const audioData = new Uint8Array(binaryString.length);\n          for (let i = 0; i < binaryString.length; i++) {\n            audioData[i] = binaryString.charCodeAt(i);\n          }\n          \n          this.audioPlayer.playAudio(audioData);\n          this.emit('greetingStarted');\n        } catch (error) {\n          console.error('VoiceSDK: Error playing greeting audio:', error);\n        }\n      } else {\n        this.emit('message', message);\n      }\n    });\n    \n    this.webSocketManager.on('binaryAudio', (audioData) => {\n      this.audioPlayer.playAudio(audioData);\n    });\n    \n    this.webSocketManager.on('bargeIn', (message) => {\n      this.emit('bargeIn', message);\n    });\n    \n    this.webSocketManager.on('stopPlaying', (message) => {\n      this.emit('stopPlaying', message);\n      // Stop current playback and clear queue, but keep playing new audio\n      // Note: stopImmediate() will emit playbackStopped, which will send audio_stopped_playing to backend\n      // This ensures backend knows when browser actually stops playing\n      this.audioPlayer.stopImmediate();\n      // Note: stopImmediate() clears the queue but AudioPlayer can still accept new audio via playAudio()\n    });\n    \n    // Audio recorder events\n    this.audioRecorder.on('recordingStarted', () => {\n      this.isRecording = true;\n      \n      // Detect barge-in: if audio is playing when recording starts\n      if (this.isPlaying) {\n        // Stop audio playback immediately\n        this.audioPlayer.stopImmediate();\n        // Send barge-in message to server\n        if (this.isConnected) {\n          this.webSocketManager.sendMessage({\n            t: 'barge_in'\n          });\n        }\n      }\n      \n      this.emit('recordingStarted');\n    });\n    \n    this.audioRecorder.on('recordingStopped', () => {\n      this.isRecording = false;\n      this.emit('recordingStopped');\n    });\n    \n    this.audioRecorder.on('audioData', (audioData) => {\n      if (this.isConnected) {\n        this.webSocketManager.sendBinary(audioData);\n      }\n    });\n    \n    // Audio player events\n    this.audioPlayer.on('playbackStarted', () => {\n      this.isPlaying = true;\n      this.emit('playbackStarted');\n      \n      // Send audio_started_playing message to server\n      if (this.isConnected) {\n        this.webSocketManager.sendMessage({\n          t: 'audio_started_playing'\n        });\n      }\n    });\n    \n    this.audioPlayer.on('playbackStopped', () => {\n      this.isPlaying = false;\n      this.emit('playbackStopped');\n      \n      // Send audio_stopped_playing message to server\n      if (this.isConnected) {\n        this.webSocketManager.sendMessage({\n          t: 'audio_stopped_playing'\n        });\n      }\n    });\n    \n    this.audioPlayer.on('playbackError', (error) => {\n      this.emit('playbackError', error);\n    });\n  }\n  \n  /**\n   * Connect to the voice server\n   */\n  async connect() {\n    if (this.isDestroyed) {\n      console.warn('VoiceSDK: Cannot connect - SDK is destroyed');\n      return false; // Prevent connect after destroy\n    }\n    \n    try {\n      // Build WebSocket URL with query parameters if needed\n      const wsUrl = this.buildWebSocketUrl();\n      \n      // Update the WebSocket manager with the URL that includes query parameters\n      this.webSocketManager.config.websocketUrl = wsUrl;\n      \n      await this.webSocketManager.connect();\n      return true;\n    } catch (error) {\n      console.error(' VoiceSDK: Connection failed with error:', error);\n      this.emit('error', error);\n      return false;\n    }\n  }\n\n  /**\n   * Build WebSocket URL with query parameters for authentication\n   */\n  buildWebSocketUrl() {\n    let url = this.config.websocketUrl;\n    const params = new URLSearchParams();\n    \n    // Add agentId as query parameter if provided\n    if (this.config.agentId) {\n      params.append('agentId', this.config.agentId);\n    }\n    \n    // Add appId as query parameter if provided\n    if (this.config.appId) {\n      params.append('appId', this.config.appId);\n    }\n    \n    // Add other parameters if needed\n    if (this.config.voice && this.config.voice !== 'default') {\n      params.append('voice', this.config.voice);\n    }\n    \n    if (this.config.language && this.config.language !== 'en') {\n      params.append('language', this.config.language);\n    }\n    \n    // Append query parameters to URL if any exist\n    if (params.toString()) {\n      const separator = url.includes('?') ? '&' : '?';\n      url += separator + params.toString();\n    }\n    \n    return url;\n  }\n  \n  /**\n   * Disconnect from the voice server\n   */\n  disconnect() {\n    if (this.isDestroyed) {\n      return; // Prevent disconnect after destroy\n    }\n    this.stopRecording();\n    this.webSocketManager.disconnect();\n  }\n  \n  /**\n   * Reset reconnection attempts (useful for manual reconnection)\n   */\n  resetReconnectionAttempts() {\n    if (this.isDestroyed) {\n      return;\n    }\n    this.webSocketManager.resetReconnectionAttempts();\n  }\n  \n  /**\n   * Manually reconnect to the voice server\n   */\n  async reconnect() {\n    if (this.isDestroyed) {\n      return false;\n    }\n    \n    this.disconnect();\n    this.resetReconnectionAttempts();\n    return await this.connect();\n  }\n  \n  /**\n   * Start voice recording and streaming\n   */\n  async startRecording() {\n    if (!this.isConnected) {\n      throw new Error('Not connected to voice server');\n    }\n    \n    try {\n      // Send start continuous mode message\n      this.webSocketManager.sendMessage({\n        t: 'start_continuous_mode',\n        ttpId: this.generateTtpId(),\n        voice: this.config.voice,\n        language: this.config.language\n      });\n      \n      // Start audio recording\n      await this.audioRecorder.start();\n      return true;\n    } catch (error) {\n      console.error(' VoiceSDK: Failed to start recording:', error);\n      this.emit('error', error);\n      return false;\n    }\n  }\n  \n  /**\n   * Stop voice recording and streaming\n   */\n  async stopRecording() {\n    if (!this.isRecording) {\n      return;\n    }\n    \n    try {\n      // Send stop continuous mode message\n      this.webSocketManager.sendMessage({\n        t: 'stop_continuous_mode',\n        ttpId: this.generateTtpId()\n      });\n      \n      // Stop audio recording\n      await this.audioRecorder.stop();\n      \n      // Stop audio playback immediately when stopping recording\n      this.audioPlayer.stopImmediate();\n      \n      return true;\n    } catch (error) {\n      this.emit('error', error);\n      return false;\n    }\n  }\n  \n  /**\n   * Toggle recording state\n   */\n  async toggleRecording() {\n    if (this.isRecording) {\n      return await this.stopRecording();\n    } else {\n      return await this.startRecording();\n    }\n  }\n  \n  /**\n   * Stop audio playback immediately (for barge-in scenarios)\n   */\n  stopAudioPlayback() {\n    this.audioPlayer.stopImmediate();\n  }\n  \n  /**\n   * Handle barge-in (user starts speaking while audio is playing)\n   */\n  async handleBargeIn() {\n    // Stop current audio playback immediately\n    this.stopAudioPlayback();\n    \n    // If not already recording, start recording\n    if (!this.isRecording) {\n      await this.startRecording();\n    }\n  }\n  \n  /**\n   * Get current connection status\n   */\n  getStatus() {\n    return {\n      isConnected: this.isConnected,\n      isRecording: this.isRecording,\n      isPlaying: this.isPlaying\n    };\n  }\n  \n  /**\n   * Update configuration\n   */\n  updateConfig(newConfig) {\n    this.config = { ...this.config, ...newConfig };\n  }\n  \n  /**\n   * Generate unique TTP ID\n   */\n  generateTtpId() {\n    return 'sdk_' + Math.random().toString(36).substr(2, 9) + '_' + Date.now();\n  }\n\n  /**\n   * Send hello message with appropriate authentication\n   */\n  sendHelloMessage() {\n    if (!this.isConnected) {\n      console.warn('VoiceSDK: Cannot send hello message - not connected');\n      return;\n    }\n\n    const helloMessage = {\n      t: \"hello\"\n    };\n\n    // Use app ID for authentication (preferred method)\n    if (this.config.appId) {\n      helloMessage.appId = this.config.appId;\n    } else if (this.config.ttpId) {\n      // Fallback to custom TTP ID if app ID not provided\n      helloMessage.ttpId = this.config.ttpId;\n    } else {\n      // Generate TTP ID as last resort\n      helloMessage.ttpId = this.generateTtpId();\n    }\n\n    // Note: agentId is now sent as query parameter in WebSocket URL, not in hello message\n\n    try {\n      this.webSocketManager.sendMessage(helloMessage);\n    } catch (error) {\n      console.error('VoiceSDK: Failed to send hello message:', error);\n      this.emit('error', error);\n    }\n  }\n  \n  /**\n   * Cleanup resources\n   */\n  destroy() {\n    if (this.isDestroyed) {\n      return; // Prevent multiple destroy calls\n    }\n    \n    // Disconnect first, before setting isDestroyed\n    this.disconnect();\n    \n    this.isDestroyed = true;\n    this.audioRecorder.destroy();\n    this.audioPlayer.destroy();\n    this.removeAllListeners();\n  }\n}\n","/**\n * TextChatSDK - Single-shot WebSocket per message\n * - Opens a new WS to /chat for each message, streams chunks, emits events, then closes\n * - Persists conversationId locally to allow continuity across messages\n */\nimport EventEmitter from './EventEmitter.js';\n\nexport default class TextChatSDK extends EventEmitter {\n  constructor(config = {}) {\n    super();\n    \n    const scriptConfig = this.readScriptTagConfig();\n\n    this.config = {\n      // Prefer SockJS native upgrade endpoint directly to avoid an initial failed attempt on /chat\n      baseWsUrl: 'wss://backend.talktopc.com/chat/websocket',\n      appId: config.appId || scriptConfig.appId,\n      agentId: config.agentId || scriptConfig.agentId,\n      conversationId: config.conversationId !== undefined ? config.conversationId : this.getPersistedConversationId(),\n      // Optional testing override: force a specific conversationId for all sends\n      forceConversationId: config.forceConversationId,\n      // queueing behavior\n      queue: [],\n      inFlight: false,\n      ...config\n    };\n    \n    this.fullResponseBuffer = '';\n  }\n\n  // Read appId/agentId from the embedding script tag data attributes\n  readScriptTagConfig() {\n    try {\n      const scripts = Array.from(document.getElementsByTagName('script'));\n      const sdkScript = scripts.reverse().find(s => (s.dataset && (s.dataset.appId || s.dataset.agentId)) || (s.src && s.src.includes('agent-widget')));\n      if (!sdkScript) return {};\n      return {\n        appId: sdkScript.dataset.appId,\n        agentId: sdkScript.dataset.agentId\n      };\n    } catch (_) {\n      return {};\n    }\n  }\n\n  // Build WS URL with query params\n  buildWebSocketUrl(base = this.config.baseWsUrl) {\n    const params = new URLSearchParams();\n    if (this.config.appId) params.append('appId', this.config.appId);\n    if (this.config.agentId) params.append('agentId', this.config.agentId);\n    if (this.config.conversationId) params.append('conversationId', this.config.conversationId);\n    return `${base}?${params.toString()}`;\n  }\n\n  // Public API: sendMessage opens a fresh WS, streams, then closes\n  async sendMessage(text) {\n    return new Promise((resolve, reject) => {\n      if (!text || !text.trim()) {\n        reject(new Error('Message is empty'));\n        return;\n      }\n      if (!this.config.appId || !this.config.agentId) {\n        reject(new Error('Missing appId or agentId'));\n        return;\n  }\n  \n      const task = { text, resolve, reject };\n      if (this.config.inFlight) {\n        this.config.queue.push(task);\n      } else {\n        this.executeTask(task);\n      }\n    });\n  }\n\n  executeTask(task) {\n    this.config.inFlight = true;\n    this.fullResponseBuffer = '';\n\n    // If conversationId is missing in memory, try to hydrate from localStorage before sending\n    if (!this.config.conversationId) {\n      const persisted = this.getPersistedConversationId();\n      if (persisted) {\n        this.config.conversationId = persisted;\n        console.log(' TextChatSDK hydrated conversationId from storage:', persisted);\n      }\n    }\n\n    const primaryUrl = this.buildWebSocketUrl(this.config.baseWsUrl);\n    const fallbackBase = this.config.baseWsUrl.endsWith('/websocket')\n      ? this.config.baseWsUrl.replace(/\\/websocket$/, '')\n      : `${this.config.baseWsUrl}/websocket`;\n    const fallbackUrl = this.buildWebSocketUrl(fallbackBase);\n    let triedFallback = false;\n\n    let messageSent = false;\n    let helloWaitTimer = null;\n\n    const sendPayload = (socket) => {\n      if (messageSent) return;\n      try {\n        const payload = { message: task.text };\n        const effectiveConvId = this.config.forceConversationId || this.config.conversationId;\n        if (effectiveConvId) {\n          payload.conversationId = effectiveConvId;\n          // Persist and keep in-memory if coming from a forced value (test mode)\n          if (this.config.forceConversationId && !this.config.conversationId) {\n            this.config.conversationId = effectiveConvId;\n            this.persistConversationId(effectiveConvId);\n          }\n        }\n        console.log(' TextChatSDK sending payload:', payload, 'conversationId in config:', this.config.conversationId);\n        socket.send(JSON.stringify(payload));\n        messageSent = true;\n      } catch (e) {\n        task.reject(e);\n        this.emit('error', e);\n        try { socket.close(); } catch (_) {}\n      }\n    };\n\n    const handleOpen = (socket) => () => {\n      // Wait briefly for server 'hello' to capture conversationId before first send\n      // If no hello within 200ms, send anyway\n      if (!this.config.conversationId) {\n        helloWaitTimer = setTimeout(() => sendPayload(socket), 200);\n      } else {\n        sendPayload(socket);\n      }\n    };\n\n    const handleMessage = (socket) => (evt) => {\n      try {\n        const data = JSON.parse(evt.data);\n        // Capture conversationId handshake from server\n        if (data.type === 'hello' && data.conversationId) {\n          // Persist the conversation id for subsequent messages\n          console.log(' TextChatSDK received conversationId:', data.conversationId);\n          this.config.conversationId = data.conversationId;\n          this.persistConversationId(data.conversationId);\n          this.emit && this.emit('conversationIdChanged', data.conversationId);\n          // If we were waiting to send the first message, send it now\n          if (!messageSent && socket && socket.readyState === 1) {\n            if (helloWaitTimer) { try { clearTimeout(helloWaitTimer); } catch (_) {} }\n            sendPayload(socket);\n          }\n          return; // nothing else to do for handshake\n        }\n        // Fallback: capture conversationId if present on any message shape\n        if (!this.config.conversationId && data.conversationId) {\n          console.log(' TextChatSDK captured conversationId from message:', data.conversationId);\n          this.config.conversationId = data.conversationId;\n          this.persistConversationId(data.conversationId);\n        }\n        if (data.type === 'chunk' && typeof data.content === 'string') {\n          this.fullResponseBuffer += data.content;\n          this.emit('chunk', data.content);\n        } else if (data.type === 'done') {\n          // Persist conversationId if provided on completion (fallback when hello was missed)\n          if (!this.config.conversationId && data.conversationId) {\n            console.log(' TextChatSDK captured conversationId from done:', data.conversationId);\n            this.config.conversationId = data.conversationId;\n          }\n          this.persistConversationId(this.config.conversationId);\n          this.emit('done', { text: this.fullResponseBuffer });\n          task.resolve({ conversationId: this.config.conversationId, fullText: this.fullResponseBuffer });\n          try { socket.close(); } catch (_) {}\n        } else if (data.type === 'error') {\n          const err = new Error(data.message || 'Server error');\n          this.emit('error', err);\n          task.reject(err);\n          try { socket.close(); } catch (_) {}\n        }\n      } catch (e) {\n        // Non-JSON or parse error; ignore or surface\n      }\n    };\n\n    const handleError = (socket) => (e) => {\n      // Try alternate path once: toggle /websocket suffix\n      if (!triedFallback) {\n        triedFallback = true;\n        try { socket.close(); } catch (_) {}\n        const fb = new WebSocket(fallbackUrl);\n        fb.onopen = handleOpen(fb);\n        fb.onmessage = handleMessage(fb);\n        fb.onerror = (err) => {\n          this.emit('error', err);\n          task.reject(err);\n        };\n        fb.onclose = handleClose;\n        return;\n      }\n      this.emit('error', e);\n      task.reject(e);\n    };\n\n    const handleClose = () => {\n      this.config.inFlight = false;\n      this.drainQueue();\n    };\n\n    const ws = new WebSocket(primaryUrl);\n    ws.onopen = handleOpen(ws);\n    ws.onmessage = handleMessage(ws);\n    ws.onerror = handleError(ws);\n    ws.onclose = handleClose;\n  }\n\n  drainQueue() {\n    if (this.config.queue.length === 0 || this.config.inFlight) return;\n    const next = this.config.queue.shift();\n    this.executeTask(next);\n  }\n\n  persistConversationId(conversationId) {\n    try {\n      if (conversationId) localStorage.setItem('ttp_text_chat_conversation_id', conversationId);\n    } catch (_) {}\n  }\n\n  getPersistedConversationId() {\n    try {\n      return localStorage.getItem('ttp_text_chat_conversation_id') || null;\n    } catch (_) {\n      return null;\n    }\n  }\n\n  updateConfig(newConfig) {\n    this.config = { ...this.config, ...newConfig };\n  }\n  \n  destroy() {\n    this.config.queue = [];\n    this.config.inFlight = false;\n    this.removeAllListeners();\n  }\n}\n\n","/**\n * VoiceButton - React component for voice interaction\n */\nimport React, { useState, useEffect, useRef } from 'react';\nimport VoiceSDK from '../core/VoiceSDK.js';\n\nconst VoiceButton = ({ \n  websocketUrl,\n  agentId, // Optional - for direct agent access (unsecured method)\n  voice = 'default',\n  language = 'en',\n  autoReconnect = true,\n  onConnected,\n  onDisconnected,\n  onRecordingStarted,\n  onRecordingStopped,\n  onPlaybackStarted,\n  onPlaybackStopped,\n  onError,\n  onMessage,\n  onBargeIn,\n  onStopPlaying,\n  className = '',\n  style = {},\n  children\n}) => {\n  const [isConnected, setIsConnected] = useState(false);\n  const [isRecording, setIsRecording] = useState(false);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [connectionStatus, setConnectionStatus] = useState('Disconnected');\n  \n  const voiceSDKRef = useRef(null);\n  \n  // Initialize VoiceSDK\n  useEffect(() => {\n    console.log(` VoiceButton: Creating VoiceSDK instance for ${websocketUrl}`);\n    \n    // Clean up existing instance if any\n    if (voiceSDKRef.current) {\n      console.log(` VoiceButton: Destroying existing VoiceSDK instance`);\n      voiceSDKRef.current.destroy();\n      voiceSDKRef.current = null;\n    }\n    \n    const voiceSDK = new VoiceSDK({\n      websocketUrl,\n      agentId, // Pass through agentId if provided\n      voice,\n      language,\n      autoReconnect\n    });\n    \n    // Setup event listeners\n    voiceSDK.on('connected', () => {\n      setIsConnected(true);\n      setConnectionStatus('Connected');\n      onConnected?.();\n    });\n    \n    voiceSDK.on('disconnected', () => {\n      setIsConnected(false);\n      setConnectionStatus('Disconnected');\n      onDisconnected?.();\n    });\n    \n    voiceSDK.on('recordingStarted', () => {\n      setIsRecording(true);\n      onRecordingStarted?.();\n    });\n    \n    voiceSDK.on('recordingStopped', () => {\n      setIsRecording(false);\n      onRecordingStopped?.();\n    });\n    \n    voiceSDK.on('playbackStarted', () => {\n      setIsPlaying(true);\n      onPlaybackStarted?.();\n    });\n    \n    voiceSDK.on('playbackStopped', () => {\n      setIsPlaying(false);\n      onPlaybackStopped?.();\n    });\n    \n    voiceSDK.on('error', (error) => {\n      onError?.(error);\n    });\n    \n    voiceSDK.on('message', (message) => {\n      onMessage?.(message);\n    });\n    \n    voiceSDK.on('bargeIn', (message) => {\n      onBargeIn?.(message);\n    });\n    \n    voiceSDK.on('stopPlaying', (message) => {\n      onStopPlaying?.(message);\n    });\n    \n    voiceSDKRef.current = voiceSDK;\n    \n    // Auto-connect\n    voiceSDK.connect();\n    \n    // Cleanup on unmount\n    return () => {\n      console.log(` VoiceButton: Cleaning up VoiceSDK instance for ${websocketUrl}`);\n      if (voiceSDKRef.current) {\n        voiceSDKRef.current.destroy();\n        voiceSDKRef.current = null;\n      }\n    };\n  }, [websocketUrl, agentId, voice, language]);\n  \n  // Handle button click\n  const handleClick = async () => {\n    if (!voiceSDKRef.current) return;\n    \n    try {\n      await voiceSDKRef.current.toggleRecording();\n    } catch (error) {\n      console.error('Error toggling recording:', error);\n    }\n  };\n  \n  // Default button content\n  const defaultContent = (\n    <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n      <div style={{ fontSize: '20px' }}>\n        {isRecording ? '' : ''}\n      </div>\n      <div>\n        {isRecording ? 'Stop Listening' : 'Start Listening'}\n      </div>\n    </div>\n  );\n  \n  return (\n    <button\n      className={`voice-button ${isRecording ? 'recording' : ''} ${className}`}\n      style={{\n        padding: '12px 24px',\n        border: 'none',\n        borderRadius: '8px',\n        backgroundColor: isRecording ? '#dc3545' : '#007bff',\n        color: 'white',\n        cursor: 'pointer',\n        fontSize: '16px',\n        fontWeight: '500',\n        transition: 'all 0.2s ease',\n        ...style\n      }}\n      onClick={handleClick}\n      disabled={!isConnected}\n    >\n      {children || defaultContent}\n    </button>\n  );\n};\n\nexport default VoiceButton;\n","/**\n * VoiceButton - Vanilla JavaScript voice button\n */\nimport VoiceSDK from '../core/VoiceSDK.js';\n\nexport default class VoiceButton {\n  constructor(options = {}) {\n    this.options = {\n      websocketUrl: options.websocketUrl || 'wss://speech.talktopc.com/ws/conv',\n      agentId: options.agentId, // Optional - for direct agent access (unsecured method)\n      voice: options.voice || 'default',\n      language: options.language || 'en',\n      container: options.container || document.body,\n      buttonText: options.buttonText || 'Start Listening',\n      buttonClass: options.buttonClass || 'voice-button',\n      ...options\n    };\n    \n    this.isConnected = false;\n    this.isRecording = false;\n    this.isPlaying = false;\n    \n    this.voiceSDK = new VoiceSDK({\n      websocketUrl: this.options.websocketUrl,\n      agentId: this.options.agentId, // Pass through agentId if provided\n      voice: this.options.voice,\n      language: this.options.language\n    });\n    \n    this.setupEventListeners();\n    this.createButton();\n    this.connect();\n  }\n  \n  /**\n   * Setup event listeners\n   */\n  setupEventListeners() {\n    this.voiceSDK.on('connected', () => {\n      this.isConnected = true;\n      this.updateButton();\n      this.options.onConnected?.();\n    });\n    \n    this.voiceSDK.on('disconnected', () => {\n      this.isConnected = false;\n      this.updateButton();\n      this.options.onDisconnected?.();\n    });\n    \n    this.voiceSDK.on('recordingStarted', () => {\n      this.isRecording = true;\n      this.updateButton();\n      this.options.onRecordingStarted?.();\n    });\n    \n    this.voiceSDK.on('recordingStopped', () => {\n      this.isRecording = false;\n      this.updateButton();\n      this.options.onRecordingStopped?.();\n    });\n    \n    this.voiceSDK.on('playbackStarted', () => {\n      this.isPlaying = true;\n      this.options.onPlaybackStarted?.();\n    });\n    \n    this.voiceSDK.on('playbackStopped', () => {\n      this.isPlaying = false;\n      this.options.onPlaybackStopped?.();\n    });\n    \n    this.voiceSDK.on('error', (error) => {\n      this.options.onError?.(error);\n    });\n    \n    this.voiceSDK.on('message', (message) => {\n      this.options.onMessage?.(message);\n    });\n    \n    this.voiceSDK.on('bargeIn', (message) => {\n      this.options.onBargeIn?.(message);\n    });\n    \n    this.voiceSDK.on('stopPlaying', (message) => {\n      this.options.onStopPlaying?.(message);\n    });\n  }\n  \n  /**\n   * Create the button element\n   */\n  createButton() {\n    this.button = document.createElement('button');\n    this.button.className = this.options.buttonClass;\n    this.button.style.cssText = `\n      padding: 12px 24px;\n      border: none;\n      border-radius: 8px;\n      background-color: #6c757d;\n      color: white;\n      cursor: pointer;\n      font-size: 16px;\n      font-weight: 500;\n      transition: all 0.2s ease;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n    `;\n    \n    this.button.addEventListener('click', () => this.toggleRecording());\n    this.options.container.appendChild(this.button);\n    \n    this.updateButton();\n  }\n  \n  /**\n   * Update button appearance and state\n   */\n  updateButton() {\n    if (!this.button) return;\n    \n    const icon = this.isRecording ? '' : '';\n    const text = this.isRecording ? 'Stop Listening' : 'Start Listening';\n    \n    this.button.innerHTML = `\n      <span style=\"font-size: 20px;\">${icon}</span>\n      <span>${text}</span>\n    `;\n    \n    this.button.disabled = !this.isConnected;\n    this.button.style.backgroundColor = this.isRecording ? '#dc3545' : \n                                      this.isConnected ? '#007bff' : '#6c757d';\n  }\n  \n  /**\n   * Connect to voice server\n   */\n  async connect() {\n    try {\n      await this.voiceSDK.connect();\n    } catch (error) {\n      console.error('Failed to connect:', error);\n    }\n  }\n  \n  /**\n   * Toggle recording\n   */\n  async toggleRecording() {\n    if (!this.voiceSDK) return;\n    \n    try {\n      await this.voiceSDK.toggleRecording();\n    } catch (error) {\n      console.error('Error toggling recording:', error);\n    }\n  }\n  \n  /**\n   * Get current status\n   */\n  getStatus() {\n    return {\n      isConnected: this.isConnected,\n      isRecording: this.isRecording,\n      isPlaying: this.isPlaying\n    };\n  }\n  \n  /**\n   * Update configuration\n   */\n  updateConfig(newConfig) {\n    this.voiceSDK.updateConfig(newConfig);\n  }\n  \n  /**\n   * Destroy the button and cleanup\n   */\n  destroy() {\n    if (this.button && this.button.parentNode) {\n      this.button.parentNode.removeChild(this.button);\n    }\n    \n    if (this.voiceSDK) {\n      this.voiceSDK.destroy();\n    }\n  }\n}\n","/**\n * Legacy AgentSDK - Backward Compatibility Layer\n * \n * This maintains the original AgentSDK API while using the new VoiceSDK internally.\n * This ensures existing integrations continue to work without changes.\n */\n\nimport { VoiceSDK } from '../index.js';\n\nexport class AgentSDK {\n  constructor(config) {\n    console.log(' AgentSDK v2.1.8 initialized with config:', config);\n    this.config = config;\n    this.voiceSDK = null;\n    this.isConnected = false;\n    this.isListening = false;\n    \n    // Legacy callback properties\n    this.onConnected = () => {};\n    this.onDisconnected = () => {};\n    this.onError = (error) => console.error('SDK Error:', error);\n    this.onTranscript = (text) => {};\n    this.onAgentSpeaking = (isStart) => {};\n  }\n\n  async connect(signedUrl) {\n    try {\n      if (!signedUrl) {\n        throw new Error('signedUrl is required');\n      }\n      \n      // Clean up existing connection if any\n      if (this.voiceSDK) {\n        console.log(' AgentSDK: Cleaning up existing connection');\n        this.voiceSDK.destroy();\n        this.voiceSDK = null;\n      }\n      \n      // Create VoiceSDK instance\n      this.voiceSDK = new VoiceSDK({\n        websocketUrl: signedUrl,\n        autoReconnect: false,\n        agentId: this.config.agentId,\n        appId: this.config.appId,\n        language: this.config.language || 'en'\n      });\n      \n      // Set up event handlers to map to legacy callbacks\n      this.voiceSDK.on('connected', () => {\n        this.isConnected = true;\n        this.onConnected();\n      });\n      \n      this.voiceSDK.on('disconnected', () => {\n        this.isConnected = false;\n        this.onDisconnected();\n      });\n      \n      this.voiceSDK.on('error', (error) => {\n        this.onError(error);\n      });\n      \n      this.voiceSDK.on('message', (message) => {\n        this.handleWebSocketMessage(message);\n      });\n      \n      this.voiceSDK.on('recordingStarted', () => {\n        this.isListening = true;\n      });\n      \n      this.voiceSDK.on('recordingStopped', () => {\n        this.isListening = false;\n      });\n      \n      this.voiceSDK.on('playbackStarted', () => {\n        this.onAgentSpeaking(true);\n      });\n      \n      this.voiceSDK.on('playbackStopped', () => {\n        this.onAgentSpeaking(false);\n      });\n      \n      // Connect using VoiceSDK\n      await this.voiceSDK.connect();\n      \n    } catch (error) {\n      this.onError(error);\n      throw error;\n    }\n  }\n\n  handleWebSocketMessage(message) {\n    // Map new message format to legacy format\n    switch (message.type) {\n      case 'connected':\n        console.log('Session started successfully');\n        break;\n        \n      case 'user_transcript':\n        this.onTranscript(message.user_transcription || message.text);\n        break;\n        \n      case 'agent_response':\n        // Handle agent text response\n        break;\n        \n      case 'barge_in':\n        // Handle barge-in\n        break;\n        \n      case 'stop_playing':\n        // Handle stop playing\n        break;\n        \n      case 'error':\n        this.onError(new Error(message.message));\n        break;\n    }\n  }\n\n  async startListening() {\n    console.log(' AgentSDK: startListening() called');\n    if (this.voiceSDK) {\n      try {\n        console.log(' AgentSDK: Starting recording...');\n        await this.voiceSDK.startRecording();\n        console.log(' AgentSDK: Recording started successfully');\n      } catch (error) {\n        console.error(' AgentSDK: Failed to start recording:', error);\n        throw error;\n      }\n    } else {\n      console.error(' AgentSDK: No voiceSDK instance available');\n      throw new Error('No voiceSDK instance available');\n    }\n  }\n\n  stopListening() {\n    if (this.voiceSDK) {\n      this.voiceSDK.stopRecording();\n    }\n  }\n\n  updateVariables(variables) {\n    if (this.voiceSDK && this.isConnected) {\n      // Send variables update message\n      this.voiceSDK.webSocketManager.sendMessage({\n        t: 'update_variables',\n        variables\n      });\n    }\n  }\n\n  disconnect() {\n    if (this.voiceSDK) {\n      this.voiceSDK.destroy();\n      this.voiceSDK = null;\n    }\n    this.isConnected = false;\n    this.isListening = false;\n  }\n}\n\n// ============================================\n// WIDGET - Pre-built UI using the SDK\n// ============================================\n\nexport class AgentWidget {\n  constructor(config = {}) {\n    // Merge user config with defaults (backward compatible with simple config)\n    this.config = this.mergeWithDefaults(config);\n    this.sdk = new AgentSDK(this.config);\n    this.isOpen = false;\n    this.isActive = false;\n    \n    this.setupEventHandlers();\n    this.createWidget();\n    \n    // Start open if configured (immediately)\n    if (this.config.behavior.startOpen || this.config.behavior.autoOpen) {\n      const panel = document.getElementById('agent-panel');\n      if (panel) {\n        this.isOpen = true;\n        panel.classList.add('open');\n      }\n    }\n  }\n\n  /**\n   * Merge user configuration with defaults\n   * Supports both simple config (backward compatible) and advanced config\n   */\n  mergeWithDefaults(userConfig) {\n    // Handle legacy position string format\n    let positionConfig = userConfig.position || 'bottom-right';\n    if (typeof positionConfig === 'string') {\n      // Convert legacy format 'bottom-right' to new format\n      const parts = positionConfig.split('-');\n      positionConfig = {\n        vertical: parts[0] || 'bottom',\n        horizontal: parts[1] || 'right',\n        offset: userConfig.positionOffset || { x: 20, y: 20 }\n      };\n    }\n\n    // Handle legacy primaryColor\n    const primaryColor = userConfig.primaryColor || userConfig.button?.primaryColor || '#4F46E5';\n\n    return {\n      // Required (agentId is required, appId is optional)\n      agentId: userConfig.agentId,\n      appId: userConfig.appId,\n      getSessionUrl: userConfig.getSessionUrl, // Optional - will auto-construct URL if omitted\n      websocketUrl: userConfig.websocketUrl, // Optional - defaults to speech.talktopc.com\n      demo: userConfig.demo !== false, // Optional - defaults to true\n      direction: userConfig.direction || 'ltr', // Optional - text direction: 'ltr' or 'rtl'\n      \n      // Icon/Image Configuration\n      icon: {\n        type: userConfig.icon?.type || 'microphone', // 'microphone', 'custom', 'emoji', 'text'\n        customImage: userConfig.icon?.customImage || null,\n        emoji: userConfig.icon?.emoji || '',\n        text: userConfig.icon?.text || 'AI',\n        size: userConfig.icon?.size || 'medium', // 'small', 'medium', 'large', 'xl'\n        // backgroundColor is deprecated - use button.backgroundColor instead\n        backgroundColor: userConfig.icon?.backgroundColor || null,\n        ...userConfig.icon\n      },\n      \n      // Positioning Configuration (supports both object and legacy string)\n      position: {\n        vertical: positionConfig.vertical || 'bottom',\n        horizontal: positionConfig.horizontal || 'right',\n        offset: positionConfig.offset || { x: 20, y: 20 },\n        ...(typeof userConfig.position === 'object' ? userConfig.position : {})\n      },\n      \n      // Button Configuration\n      button: {\n        size: userConfig.button?.size || 'medium',\n        shape: userConfig.button?.shape || 'circle',\n        // Floating button colors (main button)\n        backgroundColor: userConfig.button?.backgroundColor || userConfig.icon?.backgroundColor || primaryColor,\n        hoverColor: userConfig.button?.hoverColor || '#7C3AED',\n        shadow: userConfig.button?.shadow !== false,\n        shadowColor: userConfig.button?.shadowColor || 'rgba(0,0,0,0.15)',\n        // Legacy support - map to backgroundColor\n        primaryColor: userConfig.button?.backgroundColor || userConfig.icon?.backgroundColor || primaryColor,\n        ...userConfig.button\n      },\n      \n      // Panel Configuration\n      panel: {\n        width: userConfig.panel?.width || 350,\n        height: userConfig.panel?.height || 500,\n        borderRadius: userConfig.panel?.borderRadius || 12,\n        backgroundColor: userConfig.panel?.backgroundColor || '#FFFFFF',\n        backdropFilter: userConfig.panel?.backdropFilter || null,\n        border: userConfig.panel?.border || '1px solid rgba(0,0,0,0.1)',\n        // Mic button colors (inside panel)\n        micButtonColor: userConfig.panel?.micButtonColor || primaryColor,\n        micButtonActiveColor: userConfig.panel?.micButtonActiveColor || '#EF4444',\n        // Mic button hint text (below button)\n        // If text is empty or not provided, hint will not be shown\n        micButtonHint: {\n          text: userConfig.panel?.micButtonHint?.text || 'Click the button to start voice conversation',\n          color: userConfig.panel?.micButtonHint?.color || '#6B7280',\n          fontSize: userConfig.panel?.micButtonHint?.fontSize || '12px',\n          ...userConfig.panel?.micButtonHint\n        },\n        ...userConfig.panel\n      },\n      \n      // Header Configuration (top of panel)\n      header: {\n        title: userConfig.header?.title || 'Voice Assistant',\n        showTitle: userConfig.header?.showTitle !== false,\n        backgroundColor: userConfig.header?.backgroundColor || userConfig.button?.backgroundColor || primaryColor, // Header/top background color\n        textColor: userConfig.header?.textColor || '#FFFFFF',\n        showCloseButton: userConfig.header?.showCloseButton !== false,\n        ...userConfig.header\n      },\n      \n      // Messages Configuration\n      messages: {\n        userBackgroundColor: userConfig.messages?.userBackgroundColor || '#E5E7EB',\n        agentBackgroundColor: userConfig.messages?.agentBackgroundColor || '#F3F4F6',\n        systemBackgroundColor: userConfig.messages?.systemBackgroundColor || '#DCFCE7',\n        errorBackgroundColor: userConfig.messages?.errorBackgroundColor || '#FEE2E2',\n        textColor: userConfig.messages?.textColor || '#1F2937',\n        fontSize: userConfig.messages?.fontSize || '14px',\n        borderRadius: userConfig.messages?.borderRadius || 8,\n        ...userConfig.messages\n      },\n      \n      // Animation Configuration\n      animation: {\n        enableHover: userConfig.animation?.enableHover !== false,\n        enablePulse: userConfig.animation?.enablePulse !== false,\n        enableSlide: userConfig.animation?.enableSlide !== false,\n        duration: userConfig.animation?.duration || 0.3,\n        ...userConfig.animation\n      },\n      \n      // Behavior Configuration\n      behavior: {\n        autoOpen: userConfig.behavior?.autoOpen || false,\n        startOpen: userConfig.behavior?.startOpen || false,\n        hidden: userConfig.behavior?.hidden || false,\n        autoConnect: userConfig.behavior?.autoConnect || false,\n        showWelcomeMessage: userConfig.behavior?.showWelcomeMessage !== false,\n        welcomeMessage: userConfig.behavior?.welcomeMessage || 'Hello! How can I help you today?',\n        ...userConfig.behavior\n      },\n      \n      // Accessibility Configuration\n      accessibility: {\n        ariaLabel: userConfig.accessibility?.ariaLabel || 'Voice Assistant',\n        ariaDescription: userConfig.accessibility?.ariaDescription || 'Click to open voice assistant',\n        keyboardNavigation: userConfig.accessibility?.keyboardNavigation !== false,\n        ...userConfig.accessibility\n      },\n      \n      // Custom CSS\n      customStyles: userConfig.customStyles || '',\n      \n      // Variables for the agent\n      variables: userConfig.variables || {},\n      \n      // Legacy support (for backward compatibility)\n      primaryColor: primaryColor,\n      // Keep position string for backward compatibility\n      ...(typeof userConfig.position === 'string' ? { positionString: userConfig.position } : {})\n    };\n  }\n\n  setupEventHandlers() {\n    this.sdk.onConnected = () => {\n      this.updateStatus('connected');\n      if (this.config.behavior.showWelcomeMessage) {\n        this.addMessage('system', this.config.behavior.welcomeMessage);\n      }\n    };\n\n    this.sdk.onDisconnected = () => {\n      this.updateStatus('disconnected');\n      this.isActive = false;\n      this.updateMicButtonState(false);\n      this.showError('Conversation ended. Click to start a new conversation.');\n    };\n\n    this.sdk.onError = (error) => {\n      this.showError(error.message);\n    };\n\n    this.sdk.onTranscript = (text) => {\n      this.addMessage('user', text);\n    };\n\n    this.sdk.onAgentSpeaking = (isStart) => {\n      if (isStart) {\n        this.showAgentThinking();\n      } else {\n        this.hideAgentThinking();\n      }\n    };\n  }\n\n  createWidget() {\n    const widget = document.createElement('div');\n    widget.id = 'agent-widget';\n    widget.innerHTML = this.generateWidgetHTML();\n    \n    document.body.appendChild(widget);\n    \n    this.setupWidgetEvents();\n    \n    // Ensure initial open state if configured\n    if (this.config.behavior.startOpen || this.config.behavior.autoOpen) {\n      const panel = document.getElementById('agent-panel');\n      if (panel) {\n        this.isOpen = true;\n        panel.classList.add('open');\n      }\n    }\n  }\n\n  generateWidgetHTML() {\n    const pos = this.config.position;\n    const btn = this.config.button;\n    const icon = this.config.icon;\n    const panel = this.config.panel;\n    const header = this.config.header;\n    const anim = this.config.animation;\n\n    // Calculate button size\n    const buttonSizes = {\n      small: 50,\n      medium: 60,\n      large: 70,\n      xl: 80\n    };\n    const buttonSize = buttonSizes[btn.size] || 60;\n\n    // Calculate icon size\n    const iconSizes = {\n      small: 20,\n      medium: 28,\n      large: 36,\n      xl: 44\n    };\n    const iconSize = iconSizes[icon.size] || 28;\n\n    // Generate position styles\n    const positionStyles = this.generatePositionStyles();\n\n    // Generate icon HTML\n    const iconHTML = this.generateIconHTML(iconSize);\n\n    return `\n      <style>\n        ${this.generateCSS(positionStyles, buttonSize, iconSize)}\n        ${this.config.customStyles}\n      </style>\n      \n      ${this.config.behavior.hidden ? '' : `\n      <button id=\"agent-button\" \n              aria-label=\"${this.config.accessibility.ariaLabel}\"\n              aria-description=\"${this.config.accessibility.ariaDescription}\">\n        ${iconHTML}\n      </button>\n      `}\n      \n      <div id=\"agent-panel\">\n        ${header.showTitle ? `\n          <div id=\"agent-header\" style=\"direction: ${this.config.direction};\">\n            ${this.config.direction === 'rtl' ? `\n              ${header.showCloseButton ? '<button id=\"agent-close\">&times;</button>' : ''}\n              <h3 style=\"margin: 0; color: ${header.textColor};\">${header.title}</h3>\n            ` : `\n              <h3 style=\"margin: 0; color: ${header.textColor};\">${header.title}</h3>\n              ${header.showCloseButton ? '<button id=\"agent-close\">&times;</button>' : ''}\n            `}\n          </div>\n        ` : ''}\n        \n        <div id=\"agent-messages\"></div>\n        \n        <div id=\"agent-controls\">\n          <div style=\"display: flex; flex-direction: column; align-items: center; gap: 8px;\">\n            <button id=\"agent-mic-button\" \n                    aria-label=\"Start/Stop Voice Recording\">\n              ${iconHTML}\n            </button>\n            ${panel.micButtonHint.text && panel.micButtonHint.text.trim() ? `\n              <div id=\"agent-mic-hint\" style=\"color: ${panel.micButtonHint.color}; font-size: ${panel.micButtonHint.fontSize}; text-align: center; max-width: 200px;\">\n                ${panel.micButtonHint.text}\n              </div>\n            ` : ''}\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  generatePositionStyles() {\n    const pos = this.config.position;\n    const offset = pos.offset || { x: 20, y: 20 };\n    \n    let styles = '';\n    \n    // Vertical positioning\n    if (pos.vertical === 'top') {\n      styles += `top: ${offset.y}px;`;\n    } else if (pos.vertical === 'bottom') {\n      styles += `bottom: ${offset.y}px;`;\n    } else if (pos.vertical === 'center') {\n      styles += `top: 50%; transform: translateY(-50%);`;\n    }\n    \n    // Horizontal positioning\n    if (pos.horizontal === 'left') {\n      styles += `left: ${offset.x}px;`;\n    } else if (pos.horizontal === 'right') {\n      styles += `right: ${offset.x}px;`;\n    } else if (pos.horizontal === 'center') {\n      styles += `left: 50%; transform: translateX(-50%);`;\n    }\n    \n    return styles;\n  }\n\n  generateIconHTML(size) {\n    const icon = this.config.icon;\n    \n    switch (icon.type) {\n      case 'custom':\n        return `<img src=\"${icon.customImage}\" alt=\"Voice Assistant\" style=\"width: ${size}px; height: ${size}px; object-fit: contain;\" />`;\n      \n      case 'emoji':\n        return `<span style=\"font-size: ${size}px; line-height: 1;\">${icon.emoji}</span>`;\n      \n      case 'text':\n        return `<span style=\"font-size: ${Math.floor(size * 0.6)}px; font-weight: bold; color: white;\">${icon.text}</span>`;\n      \n      case 'microphone':\n      default:\n        return `<svg viewBox=\"0 0 24 24\" style=\"width: ${size}px; height: ${size}px; fill: white;\">\n          <path d=\"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z\"/>\n          <path d=\"M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z\"/>\n        </svg>`;\n    }\n  }\n\n  generateCSS(positionStyles, buttonSize, iconSize) {\n    const btn = this.config.button;\n    const panel = this.config.panel;\n    const header = this.config.header;\n    const messages = this.config.messages;\n    const anim = this.config.animation;\n    \n    // Color references for clarity\n    const floatingButtonColor = btn.backgroundColor || btn.primaryColor; // Floating button (main)\n    const headerColor = header.backgroundColor; // Header/top of panel\n    const micButtonColor = panel.micButtonColor || btn.primaryColor; // Mic button in panel\n    const micButtonActiveColor = panel.micButtonActiveColor || '#EF4444'; // Mic button active state\n\n    return `\n      #agent-widget {\n        position: fixed;\n        ${positionStyles}\n        z-index: 10000;\n        font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif;\n        -webkit-transform: translateZ(0);\n        transform: translateZ(0);\n        will-change: transform;\n      }\n      \n      #agent-button {\n        width: ${buttonSize}px;\n        height: ${buttonSize}px;\n        border-radius: ${btn.shape === 'circle' ? '50%' : btn.shape === 'square' ? '0' : '12px'};\n        background: ${floatingButtonColor};\n        border: none;\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all ${anim.duration}s ease;\n        ${btn.shadow ? `box-shadow: 0 4px 12px ${btn.shadowColor};` : ''}\n        touch-action: manipulation;\n        -webkit-tap-highlight-color: transparent;\n        -webkit-touch-callout: none;\n        user-select: none;\n        min-width: 44px;\n        min-height: 44px;\n      }\n      \n      @media (max-width: 768px) {\n        #agent-button {\n          min-width: 56px;\n          min-height: 56px;\n        }\n      }\n      \n      ${anim.enableHover ? `\n        #agent-button:hover {\n          background: ${btn.hoverColor};\n          transform: scale(1.05);\n          ${btn.shadow ? `box-shadow: 0 8px 20px ${btn.shadowColor};` : ''}\n        }\n      ` : ''}\n      \n      #agent-panel {\n        display: none;\n        position: absolute;\n        bottom: ${this.config.behavior.hidden ? 20 : (buttonSize + 20)}px;\n        ${this.config.position.horizontal === 'right' ? 'right: 0;' : 'left: 0;'}\n        width: ${panel.width}px;\n        height: ${panel.height}px;\n        background: ${panel.backgroundColor};\n        border-radius: ${panel.borderRadius}px;\n        border: ${panel.border};\n        flex-direction: column;\n        overflow: hidden;\n        ${panel.backdropFilter ? `backdrop-filter: ${panel.backdropFilter};` : ''}\n        ${anim.enableSlide ? `transition: all ${anim.duration}s ease;` : ''}\n      }\n      \n      #agent-panel.open {\n        display: flex;\n        ${anim.enableSlide ? 'transform: translateY(0); opacity: 1;' : ''}\n      }\n      \n      #agent-header {\n        background: ${headerColor};\n        color: ${header.textColor};\n        padding: 16px;\n        display: flex;\n        flex-direction: ${this.config.direction === 'rtl' ? 'row-reverse' : 'row'};\n        justify-content: space-between;\n        align-items: center;\n        border-radius: ${panel.borderRadius}px ${panel.borderRadius}px 0 0;\n        direction: ${this.config.direction};\n      }\n      \n      #agent-header h3 {\n        margin: 0;\n        flex: 1;\n        text-align: ${this.config.direction === 'rtl' ? 'right' : 'left'};\n      }\n      \n      #agent-close {\n        background: none;\n        border: none;\n        color: ${header.textColor};\n        cursor: pointer;\n        font-size: 24px;\n        padding: 0;\n        width: 24px;\n        height: 24px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex-shrink: 0;\n      }\n      \n      #agent-messages {\n        flex: 1;\n        overflow-y: auto;\n        padding: 16px;\n        display: flex;\n        flex-direction: column;\n        gap: 12px;\n      }\n      \n      .message {\n        padding: 12px;\n        border-radius: ${messages.borderRadius}px;\n        max-width: 80%;\n        font-size: ${messages.fontSize};\n        color: ${messages.textColor};\n      }\n      \n      .message.user {\n        background: ${messages.userBackgroundColor};\n        align-self: flex-end;\n      }\n      \n      .message.agent {\n        background: ${messages.agentBackgroundColor};\n        align-self: flex-start;\n      }\n      \n      .message.system {\n        background: ${messages.systemBackgroundColor};\n        align-self: flex-start;\n        font-style: italic;\n      }\n      \n      .error-message {\n        background: ${messages.errorBackgroundColor};\n        color: #991B1B;\n        padding: 12px;\n        border-radius: ${messages.borderRadius}px;\n        margin: 8px;\n      }\n      \n      #agent-controls {\n        padding: 16px;\n        border-top: 1px solid #E5E7EB;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n      \n      #agent-controls > div {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        gap: 8px;\n      }\n      \n      #agent-mic-hint {\n        text-align: center;\n        line-height: 1.4;\n      }\n      \n      #agent-mic-button {\n        width: ${buttonSize}px;\n        height: ${buttonSize}px;\n        border-radius: ${btn.shape === 'circle' ? '50%' : btn.shape === 'square' ? '0' : '12px'};\n        border: none;\n        background: ${micButtonColor};\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all ${anim.duration}s ease;\n      }\n      \n      #agent-mic-button.active {\n        background: ${micButtonActiveColor};\n        ${anim.enablePulse ? `\n          animation: pulse 1.5s infinite;\n        ` : ''}\n      }\n      \n      ${anim.enablePulse ? `\n        @keyframes pulse {\n          0%, 100% { transform: scale(1); }\n          50% { transform: scale(1.05); }\n        }\n      ` : ''}\n      \n      .agent-thinking {\n        font-style: italic;\n        color: #6B7280;\n      }\n    `;\n  }\n\n  setupWidgetEvents() {\n    const openBtn = document.getElementById('agent-button');\n    if (openBtn) {\n      openBtn.onclick = () => this.togglePanel();\n    }\n    \n    const closeBtn = document.getElementById('agent-close');\n    if (closeBtn) {\n      closeBtn.onclick = () => this.togglePanel();\n    }\n    \n    document.getElementById('agent-mic-button').onclick = () => this.toggleVoice();\n    \n    // Keyboard navigation\n    if (this.config.accessibility.keyboardNavigation) {\n      this.setupKeyboardNavigation();\n    }\n  }\n\n  setupKeyboardNavigation() {\n    document.addEventListener('keydown', (e) => {\n      if (e.key === 'Escape' && this.isOpen) {\n        this.togglePanel();\n      }\n    });\n  }\n\n  togglePanel() {\n    this.isOpen = !this.isOpen;\n    const panel = document.getElementById('agent-panel');\n    panel.classList.toggle('open');\n  }\n\n  async toggleVoice() {\n    if (!this.isActive) {\n      try {\n        console.log(' Starting voice session...');\n        const signedUrl = await this.getSignedUrl();\n        console.log(' Got signed URL:', signedUrl);\n        \n        const connected = await this.sdk.connect(signedUrl);\n        console.log(' Connected to WebSocket, connected:', connected);\n        \n        // Wait for connection to be fully ready (for hello message exchange)\n        let attempts = 0;\n        while (!this.sdk.isConnected && attempts < 50) {\n          await new Promise(resolve => setTimeout(resolve, 100));\n          attempts++;\n        }\n        \n        if (this.sdk.isConnected) {\n          console.log(' WebSocket ready, starting listening...');\n          await this.sdk.startListening();\n          console.log(' Started listening');\n          \n          this.isActive = true;\n          this.updateMicButtonState(true);\n          this.addMessage('system', ' Listening... Click mic to stop');\n        } else {\n          console.warn(' Connection not fully ready, but trying to start listening anyway...');\n          await this.sdk.startListening();\n          console.log(' Started listening');\n          \n          this.isActive = true;\n          this.updateMicButtonState(true);\n          this.addMessage('system', ' Listening... Click mic to stop');\n        }\n      } catch (error) {\n        console.error(' Failed to start:', error);\n        this.showError(error.message);\n      }\n    } else {\n      console.log(' Stopping voice session...');\n      this.sdk.stopListening();\n      this.sdk.disconnect();\n      this.isActive = false;\n      this.updateMicButtonState(false);\n      this.addMessage('system', ' Stopped listening');\n    }\n  }\n\n  updateMicButtonState(isListening) {\n    const micButton = document.getElementById('agent-mic-button');\n    if (!micButton) return;\n    \n    const iconSizes = {\n      small: 20,\n      medium: 28,\n      large: 36,\n      xl: 44\n    };\n    const iconSize = iconSizes[this.config.icon.size] || 28;\n    \n    if (isListening) {\n      micButton.classList.add('active');\n      micButton.title = 'Click to stop listening';\n      \n      // Change icon to stop icon (only if using SVG microphone icon)\n      if (this.config.icon.type === 'microphone' || this.config.icon.type === 'custom') {\n        const iconElement = micButton.querySelector('svg') || micButton.querySelector('img');\n        if (iconElement && iconElement.tagName === 'svg') {\n          iconElement.innerHTML = `\n            <rect x=\"6\" y=\"6\" width=\"12\" height=\"12\" rx=\"2\"/>\n            <path d=\"M9 9h6\"/>\n          `;\n        }\n      }\n    } else {\n      micButton.classList.remove('active');\n      micButton.title = 'Click to start listening';\n      \n      // Change back to original icon (only if using SVG microphone icon)\n      if (this.config.icon.type === 'microphone') {\n        const iconElement = micButton.querySelector('svg');\n        if (iconElement) {\n          iconElement.innerHTML = `\n            <path d=\"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z\"/>\n            <path d=\"M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z\"/>\n          `;\n        }\n      }\n    }\n  }\n\n  async getSignedUrl() {\n    // If getSessionUrl is not provided, construct URL directly from agentId and appId\n    if (!this.config.getSessionUrl) {\n      if (!this.config.agentId) {\n        throw new Error('agentId is required');\n      }\n      \n      // Build WebSocket URL directly\n      const baseUrl = this.config.websocketUrl || 'wss://speech.talktopc.com/ws/conv';\n      const params = new URLSearchParams();\n      params.append('agentId', this.config.agentId);\n      \n      if (this.config.appId) {\n        params.append('appId', this.config.appId);\n      }\n      \n      // Add demo flag if in development\n      if (this.config.demo !== false) {\n        params.append('demo', 'true');\n      }\n      \n      return `${baseUrl}?${params.toString()}`;\n    }\n    \n    // Handle getSessionUrl as string (backend URL)\n    if (typeof this.config.getSessionUrl === 'string') {\n      const requestBody = {\n        agentId: this.config.agentId,\n        variables: this.config.variables || {}\n      };\n      \n      // Add appId if provided in config\n      if (this.config.appId) {\n        requestBody.appId = this.config.appId;\n      }\n      \n      const response = await fetch(this.config.getSessionUrl, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(requestBody)\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to get session URL: ${response.statusText}`);\n      }\n\n      const data = await response.json();\n      return data.signedUrl || data.wsUrl || data.url;\n    }\n    \n    // Handle getSessionUrl as function\n    else if (typeof this.config.getSessionUrl === 'function') {\n      const params = {\n        agentId: this.config.agentId,\n        variables: this.config.variables || {}\n      };\n      \n      // Add appId if provided in config\n      if (this.config.appId) {\n        params.appId = this.config.appId;\n      }\n      \n      const result = await this.config.getSessionUrl(params);\n      \n      return typeof result === 'string' ? result : (result.signedUrl || result.wsUrl || result.url);\n    }\n    \n    else {\n      throw new Error('getSessionUrl must be a string (backend URL), a function, or omitted (for direct connection with agentId/appId)');\n    }\n  }\n\n  addMessage(type, text) {\n    const messages = document.getElementById('agent-messages');\n    const message = document.createElement('div');\n    message.className = `message ${type}`;\n    message.textContent = text;\n    messages.appendChild(message);\n    messages.scrollTop = messages.scrollHeight;\n  }\n\n  showAgentThinking() {\n    const messages = document.getElementById('agent-messages');\n    const thinking = document.createElement('div');\n    thinking.className = 'message agent agent-thinking';\n    thinking.id = 'thinking-indicator';\n    thinking.textContent = 'Agent is speaking...';\n    messages.appendChild(thinking);\n    messages.scrollTop = messages.scrollHeight;\n  }\n\n  hideAgentThinking() {\n    const thinking = document.getElementById('thinking-indicator');\n    if (thinking) thinking.remove();\n  }\n\n  showError(message) {\n    const messages = document.getElementById('agent-messages');\n    const error = document.createElement('div');\n    error.className = 'error-message';\n    error.textContent = message;\n    messages.appendChild(error);\n  }\n\n  updateStatus(status) {\n    // Status update handler (can be overridden by users)\n  }\n\n  // Public API methods\n  updateConfig(newConfig) {\n    // Deep merge nested objects\n    const mergedConfig = { ...this.config };\n    \n    // Deep merge panel config if it exists\n    if (newConfig.panel) {\n      mergedConfig.panel = { ...this.config.panel, ...newConfig.panel };\n      // Deep merge micButtonHint if it exists\n      if (newConfig.panel.micButtonHint) {\n        mergedConfig.panel.micButtonHint = {\n          ...this.config.panel?.micButtonHint,\n          ...newConfig.panel.micButtonHint\n        };\n      }\n    }\n    \n    // Merge other configs (shallow merge is fine for these)\n    if (newConfig.button) {\n      mergedConfig.button = { ...this.config.button, ...newConfig.button };\n    }\n    if (newConfig.header) {\n      mergedConfig.header = { ...this.config.header, ...newConfig.header };\n    }\n    if (newConfig.icon) {\n      mergedConfig.icon = { ...this.config.icon, ...newConfig.icon };\n    }\n    if (newConfig.messages) {\n      mergedConfig.messages = { ...this.config.messages, ...newConfig.messages };\n    }\n    \n    // Merge direction property\n    if (newConfig.direction !== undefined) {\n      mergedConfig.direction = newConfig.direction;\n    }\n    \n    // Merge any other top-level properties\n    Object.keys(newConfig).forEach(key => {\n      if (!['panel', 'button', 'header', 'icon', 'messages', 'direction'].includes(key)) {\n        mergedConfig[key] = newConfig[key];\n      }\n    });\n    \n    this.config = this.mergeWithDefaults(mergedConfig);\n    // Recreate widget with new config\n    const existingWidget = document.getElementById('agent-widget');\n    if (existingWidget) {\n      existingWidget.remove();\n    }\n    this.createWidget();\n  }\n\n  destroy() {\n    const widget = document.getElementById('agent-widget');\n    if (widget) {\n      widget.remove();\n    }\n    if (this.sdk) {\n      this.sdk.disconnect();\n    }\n  }\n}\n","/**\n * TextChatWidget - Pre-built UI widget for text chat using TextChatSDK\n * Similar to AgentWidget but designed for text-based chat\n */\n\nimport TextChatSDK from '../core/TextChatSDK.js';\n\nexport class TextChatWidget {\n  constructor(config = {}) {\n    // Merge user config with defaults (backward compatible with simple config)\n    this.config = this.mergeWithDefaults(config);\n    this.sdk = new TextChatSDK(this.config);\n    this.isOpen = false;\n    this.isActive = false;\n    this.streamingEl = null;\n    this.hasStartedStreaming = false;\n    this.streamingTimer = null;\n    \n    this.setupEventHandlers();\n    this.createWidget();\n    \n    // Start open if configured (immediately)\n    if (this.config.behavior.startOpen || this.config.behavior.autoOpen) {\n      const panel = document.getElementById('text-chat-panel');\n      if (panel) {\n        this.isOpen = true;\n        panel.classList.add('open');\n      }\n    }\n  }\n\n  /**\n   * Merge user configuration with defaults\n   * Supports both simple config (backward compatible) and advanced config\n   */\n  mergeWithDefaults(userConfig) {\n    // Handle legacy position string format\n    let positionConfig = userConfig.position || 'bottom-right';\n    if (typeof positionConfig === 'string') {\n      // Convert legacy format 'bottom-right' to new format\n      const parts = positionConfig.split('-');\n      positionConfig = {\n        vertical: parts[0] || 'bottom',\n        horizontal: parts[1] || 'right',\n        offset: userConfig.positionOffset || { x: 20, y: 20 }\n      };\n    }\n\n    // Handle legacy primaryColor\n    const primaryColor = userConfig.primaryColor || userConfig.button?.primaryColor || '#4F46E5';\n\n    return {\n      // Required (agentId is required, appId is optional)\n      agentId: userConfig.agentId,\n      appId: userConfig.appId,\n      getSessionUrl: userConfig.getSessionUrl, // Optional - will auto-construct URL if omitted\n      websocketUrl: userConfig.websocketUrl, // Optional - defaults to backend.talktopc.com/ws/conv (path may need adjustment)\n      demo: userConfig.demo !== false, // Optional - defaults to true\n      direction: userConfig.direction || 'ltr', // Optional - text direction: 'ltr' or 'rtl'\n      \n      // Icon/Image Configuration\n      icon: {\n        type: userConfig.icon?.type || 'chat', // 'chat', 'custom', 'emoji', 'text'\n        customImage: userConfig.icon?.customImage || null,\n        emoji: userConfig.icon?.emoji || '',\n        text: userConfig.icon?.text || 'AI',\n        size: userConfig.icon?.size || 'medium', // 'small', 'medium', 'large', 'xl'\n        backgroundColor: userConfig.icon?.backgroundColor || null,\n        ...userConfig.icon\n      },\n      \n      // Positioning Configuration (supports both object and legacy string)\n      position: {\n        vertical: positionConfig.vertical || 'bottom',\n        horizontal: positionConfig.horizontal || 'right',\n        offset: positionConfig.offset || { x: 20, y: 20 },\n        ...(typeof userConfig.position === 'object' ? userConfig.position : {})\n      },\n      \n      // Button Configuration\n      button: {\n        size: userConfig.button?.size || 'medium',\n        shape: userConfig.button?.shape || 'circle',\n        // Floating button colors (main button)\n        backgroundColor: userConfig.button?.backgroundColor || userConfig.icon?.backgroundColor || primaryColor,\n        hoverColor: userConfig.button?.hoverColor || '#7C3AED',\n        shadow: userConfig.button?.shadow !== false,\n        shadowColor: userConfig.button?.shadowColor || 'rgba(0,0,0,0.15)',\n        // Legacy support - map to backgroundColor\n        primaryColor: userConfig.button?.backgroundColor || userConfig.icon?.backgroundColor || primaryColor,\n        ...userConfig.button\n      },\n      \n      // Panel Configuration\n      panel: {\n        width: userConfig.panel?.width || 350,\n        height: userConfig.panel?.height || 500,\n        borderRadius: userConfig.panel?.borderRadius || 12,\n        backgroundColor: userConfig.panel?.backgroundColor || '#FFFFFF',\n        backdropFilter: userConfig.panel?.backdropFilter || null,\n        border: userConfig.panel?.border || '1px solid rgba(0,0,0,0.1)',\n        // Send button colors (inside panel) - similar to micButtonColor in voice widget\n        sendButtonColor: userConfig.panel?.sendButtonColor || primaryColor,\n        sendButtonHoverColor: userConfig.panel?.sendButtonHoverColor || '#7C3AED',\n        sendButtonActiveColor: userConfig.panel?.sendButtonActiveColor || '#059669',\n        sendButtonText: userConfig.panel?.sendButtonText || 'Send',\n        sendButtonTextColor: userConfig.panel?.sendButtonTextColor || '#FFFFFF',\n        sendButtonFontSize: userConfig.panel?.sendButtonFontSize || '14px',\n        sendButtonFontWeight: userConfig.panel?.sendButtonFontWeight || '500',\n        // Send button hint text (below button or near it, similar to micButtonHint)\n        sendButtonHint: {\n          text: userConfig.panel?.sendButtonHint?.text || '',\n          color: userConfig.panel?.sendButtonHint?.color || '#6B7280',\n          fontSize: userConfig.panel?.sendButtonHint?.fontSize || '12px',\n          ...userConfig.panel?.sendButtonHint\n        },\n        // Input field configuration - comprehensive customization\n        inputPlaceholder: userConfig.panel?.inputPlaceholder || 'Type your message...',\n        inputBorderColor: userConfig.panel?.inputBorderColor || '#E5E7EB',\n        inputFocusColor: userConfig.panel?.inputFocusColor || primaryColor,\n        inputBackgroundColor: userConfig.panel?.inputBackgroundColor || '#FFFFFF',\n        inputTextColor: userConfig.panel?.inputTextColor || '#1F2937',\n        inputFontSize: userConfig.panel?.inputFontSize || '14px',\n        inputBorderRadius: userConfig.panel?.inputBorderRadius || 8,\n        inputPadding: userConfig.panel?.inputPadding || '12px',\n        ...userConfig.panel\n      },\n      \n      // Header Configuration (top of panel)\n      header: {\n        title: userConfig.header?.title || 'Chat Assistant',\n        showTitle: userConfig.header?.showTitle !== false,\n        backgroundColor: userConfig.header?.backgroundColor || userConfig.button?.backgroundColor || primaryColor,\n        textColor: userConfig.header?.textColor || '#FFFFFF',\n        showCloseButton: userConfig.header?.showCloseButton !== false,\n        ...userConfig.header\n      },\n      \n      // Messages Configuration\n      messages: {\n        userBackgroundColor: userConfig.messages?.userBackgroundColor || '#E5E7EB',\n        agentBackgroundColor: userConfig.messages?.agentBackgroundColor || '#F3F4F6',\n        systemBackgroundColor: userConfig.messages?.systemBackgroundColor || '#DCFCE7',\n        errorBackgroundColor: userConfig.messages?.errorBackgroundColor || '#FEE2E2',\n        textColor: userConfig.messages?.textColor || '#1F2937',\n        fontSize: userConfig.messages?.fontSize || '14px',\n        borderRadius: userConfig.messages?.borderRadius || 8,\n        ...userConfig.messages\n      },\n      \n      // Animation Configuration\n      animation: {\n        enableHover: userConfig.animation?.enableHover !== false,\n        enablePulse: userConfig.animation?.enablePulse !== false,\n        enableSlide: userConfig.animation?.enableSlide !== false,\n        duration: userConfig.animation?.duration || 0.3,\n        ...userConfig.animation\n      },\n      \n      // Behavior Configuration\n      behavior: {\n        autoOpen: userConfig.behavior?.autoOpen || false,\n        startOpen: userConfig.behavior?.startOpen || false,\n        hidden: userConfig.behavior?.hidden || false,\n        autoConnect: userConfig.behavior?.autoConnect || false,\n        showWelcomeMessage: userConfig.behavior?.showWelcomeMessage !== false,\n        welcomeMessage: userConfig.behavior?.welcomeMessage || 'Hello! How can I help you today?',\n        // Voice selection landing (hidden by default)\n        enableVoiceMode: userConfig.behavior?.enableVoiceMode || false,\n        ...userConfig.behavior\n      },\n      \n      // Accessibility Configuration\n      accessibility: {\n        ariaLabel: userConfig.accessibility?.ariaLabel || 'Chat Assistant',\n        ariaDescription: userConfig.accessibility?.ariaDescription || 'Click to open chat assistant',\n        keyboardNavigation: userConfig.accessibility?.keyboardNavigation !== false,\n        ...userConfig.accessibility\n      },\n      \n      // Custom CSS\n      customStyles: userConfig.customStyles || '',\n      \n      // Variables for the agent\n      variables: userConfig.variables || {},\n      // TEST: allow forcing a conversationId for debugging\n      forceConversationId: userConfig.forceConversationId,\n      \n      // Legacy support (for backward compatibility)\n      primaryColor: primaryColor,\n      // Keep position string for backward compatibility\n      ...(typeof userConfig.position === 'string' ? { positionString: userConfig.position } : {})\n    };\n  }\n\n  setupEventHandlers() {\n    this.sdk.on('error', (error) => {\n      this.showError(error.message || error);\n      this.stopStreamingState();\n    });\n\n    this.sdk.on('chunk', (chunk) => {\n      this.appendStreamingChunk(chunk);\n    });\n\n    this.sdk.on('done', ({ text }) => {\n      this.finalizeStreaming(text);\n    });\n  }\n\n  createWidget() {\n    const widget = document.createElement('div');\n    widget.id = 'text-chat-widget';\n    widget.innerHTML = this.generateWidgetHTML();\n    \n    document.body.appendChild(widget);\n    \n    this.setupWidgetEvents();\n    \n    // Ensure initial open state if configured\n    if (this.config.behavior.startOpen || this.config.behavior.autoOpen) {\n      const panel = document.getElementById('text-chat-panel');\n      if (panel) {\n        this.isOpen = true;\n        panel.classList.add('open');\n      }\n    }\n  }\n\n  generateWidgetHTML() {\n    const pos = this.config.position;\n    const btn = this.config.button;\n    const icon = this.config.icon;\n    const panel = this.config.panel;\n    const header = this.config.header;\n    const anim = this.config.animation;\n\n    // Calculate button size\n    const buttonSizes = {\n      small: 50,\n      medium: 60,\n      large: 70,\n      xl: 80\n    };\n    const buttonSize = buttonSizes[btn.size] || 60;\n\n    // Calculate icon size\n    const iconSizes = {\n      small: 20,\n      medium: 28,\n      large: 36,\n      xl: 44\n    };\n    const iconSize = iconSizes[icon.size] || 28;\n\n    // Generate position styles\n    const positionStyles = this.generatePositionStyles();\n\n    // Generate icon HTML\n    const iconHTML = this.generateIconHTML(iconSize);\n\n    const voiceEnabled = !!this.config.behavior.enableVoiceMode;\n\n    return `\n      <style>\n        ${this.generateCSS(positionStyles, buttonSize, iconSize)}\n        ${this.config.customStyles}\n      </style>\n      \n      ${this.config.behavior.hidden ? '' : `\n      <button id=\\\"text-chat-button\\\" \n              aria-label=\\\"${this.config.accessibility.ariaLabel}\\\"\n              aria-description=\\\"${this.config.accessibility.ariaDescription}\\\">\\n        ${iconHTML}\\n      </button>\n      `}\n      \n      <div id=\"text-chat-panel\">\n        <div class=\"widget-shell\">\n          <div class=\"panel-inner widget-container\" style=\"direction: ${this.config.direction};\">\n          <div class=\"widget-header\">\n            <div>\n              <div class=\"header-title\">${header.title}</div>\n              <div class=\"header-status\">\n                <span class=\"status-dot\"></span>\n                <span>${this.config.direction === 'rtl' ? '' : 'Online'}</span>\n              </div>\n            </div>\n            <div style=\"display: flex; gap: 12px; align-items: center;\">\n              <button class=\"new-chat-btn header-icon\" id=\"newChatBtn\" title=\"Start new chat\">\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\">\n                  <path d=\"M12 5v14M5 12h14\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\n                </svg>\n              </button>\n              ${voiceEnabled ? '<button class=\"back-btn header-icon\" id=\"backBtn\">'+\n                '<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">'+\n                '<path d=\"M10 12L6 8L10 4\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>'+\n                '</svg></button>' : ''}\n              ${header.showCloseButton ? '<button class=\"close-btn header-icon\" id=\"text-chat-close\">'+\n                '<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">'+\n                '<path d=\"M12 4L4 12M4 4L12 12\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>'+\n                '</svg></button>' : ''}\n            </div>\n          </div>\n\n          ${voiceEnabled ? `\n          <div class=\"landing-screen\" id=\"landingScreen\">\n            <div class=\"landing-logo\"></div>\n            <div class=\"landing-title\">${this.config.direction === 'rtl' ? '  ?' : 'How would you like to communicate?'}</div>\n            <div class=\"mode-selection\">\n              <div class=\"mode-card voice\" id=\"mode-card-voice\">\n                <div class=\"mode-card-icon\"></div>\n                <div class=\"mode-card-title\">${this.config.direction === 'rtl' ? ' ' : 'Voice Call'}</div>\n              </div>\n              <div class=\"mode-card text\" id=\"mode-card-text\">\n                <div class=\"mode-card-icon\"></div>\n                <div class=\"mode-card-title\">${this.config.direction === 'rtl' ? \"' \" : 'Text Chat'}</div>\n              </div>\n            </div>\n          </div>` : ''}\n\n          <div class=\"voice-interface\" id=\"voiceInterface\">\n            <div class=\"empty-voice\">${this.config.direction === 'rtl' ? '  placeholder' : 'Voice mode placeholder'}</div>\n          </div>\n\n          <div class=\"text-interface ${voiceEnabled ? '' : 'active'}\" id=\"textInterface\">\n            <div class=\"messages-container\" id=\"messagesContainer\">\n              <div class=\"empty-state\">\n                <div class=\"empty-state-icon\"></div>\n                <div class=\"empty-state-title\">${this.config.direction === 'rtl' ? '!   ?' : 'Hello! How can I help?'}</div>\n                <div class=\"empty-state-text\">${this.config.direction === 'rtl' ? '        ' : 'Send a message to get started'}</div>\n              </div>\n              <div class=\"message assistant\">\n                <div class=\"message-avatar\"></div>\n                <div class=\"typing-indicator\" id=\"typingIndicator\">\n                  <div class=\"typing-dot\"></div>\n                  <div class=\"typing-dot\"></div>\n                  <div class=\"typing-dot\"></div>\n                </div>\n              </div>\n            </div>\n            <div class=\"input-container\">\n              ${this.config.direction === 'rtl' ? `\n                <button class=\"send-button\" id=\"sendButton\" aria-label=\"Send message\"></button>\n                <div class=\"input-wrapper\" style=\"flex:1;\">\n                  <textarea class=\"message-input\" id=\"messageInput\" placeholder=\"${panel.inputPlaceholder}\" rows=\"1\"></textarea>\n                </div>\n              ` : `\n                <div class=\"input-wrapper\" style=\"flex:1;\">\n                  <textarea class=\"message-input\" id=\"messageInput\" placeholder=\"${panel.inputPlaceholder}\" rows=\"1\"></textarea>\n                </div>\n                <button class=\"send-button\" id=\"sendButton\" aria-label=\"Send message\"></button>\n              `}\n            </div>\n          </div>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  generatePositionStyles() {\n    const pos = this.config.position;\n    const offset = pos.offset || { x: 20, y: 20 };\n    \n    let styles = '';\n    \n    // Vertical positioning\n    if (pos.vertical === 'top') {\n      styles += `top: ${offset.y}px;`;\n    } else if (pos.vertical === 'bottom') {\n      styles += `bottom: ${offset.y}px;`;\n    } else if (pos.vertical === 'center') {\n      styles += `top: 50%; transform: translateY(-50%);`;\n    }\n    \n    // Horizontal positioning\n    if (pos.horizontal === 'left') {\n      styles += `left: ${offset.x}px;`;\n    } else if (pos.horizontal === 'right') {\n      styles += `right: ${offset.x}px;`;\n    } else if (pos.horizontal === 'center') {\n      styles += `left: 50%; transform: translateX(-50%);`;\n    }\n    \n    return styles;\n  }\n\n  generateIconHTML(size) {\n    const icon = this.config.icon;\n    \n    switch (icon.type) {\n      case 'custom':\n        return `<img src=\"${icon.customImage}\" alt=\"Chat Assistant\" style=\"width: ${size}px; height: ${size}px; object-fit: contain;\" />`;\n      \n      case 'emoji':\n        return `<span style=\"font-size: ${size}px; line-height: 1;\">${icon.emoji}</span>`;\n      \n      case 'text':\n        return `<span style=\"font-size: ${Math.floor(size * 0.6)}px; font-weight: bold; color: white;\">${icon.text}</span>`;\n      \n      case 'chat':\n      default:\n        return `<svg viewBox=\"0 0 24 24\" style=\"width: ${size}px; height: ${size}px; fill: white;\">\n          <path d=\"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z\"/>\n        </svg>`;\n    }\n  }\n\n  generateCSS(positionStyles, buttonSize, iconSize) {\n    const btn = this.config.button;\n    const panel = this.config.panel;\n    const header = this.config.header;\n    const messages = this.config.messages;\n    const anim = this.config.animation;\n    \n    // Color references for clarity\n    const floatingButtonColor = btn.backgroundColor || btn.primaryColor; // Floating button (main)\n    const headerColor = header.backgroundColor; // Header/top of panel\n    const sendButtonColor = panel.sendButtonColor || btn.primaryColor; // Send button (similar to micButtonColor in voice widget)\n    const sendButtonHoverColor = panel.sendButtonHoverColor || '#7C3AED'; // Send button hover\n    const sendButtonActiveColor = panel.sendButtonActiveColor || '#059669'; // Send button active state\n\n    return `\n      #text-chat-widget {\n        position: fixed;\n        ${positionStyles}\n        z-index: 10000;\n        font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif;\n        -webkit-transform: translateZ(0);\n        transform: translateZ(0);\n        will-change: transform;\n      }\n      \n      #text-chat-button {\n        width: ${buttonSize}px;\n        height: ${buttonSize}px;\n        border-radius: ${btn.shape === 'circle' ? '50%' : btn.shape === 'square' ? '0' : '12px'};\n        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n        border: none;\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all ${anim.duration}s ease;\n        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);\n        touch-action: manipulation;\n        -webkit-tap-highlight-color: transparent;\n        -webkit-touch-callout: none;\n        user-select: none;\n        min-width: 44px;\n        min-height: 44px;\n      }\n      \n      @media (max-width: 768px) {\n        #text-chat-button {\n          min-width: 56px;\n          min-height: 56px;\n        }\n        \n        #text-chat-panel {\n          width: calc(100vw - 20px) !important;\n          max-width: ${panel.width}px;\n          max-height: calc(100vh - 120px) !important;\n          left: 10px !important;\n          right: 10px !important;\n        }\n        \n        #text-chat-input {\n          font-size: 16px !important; /* Prevents iOS zoom on focus */\n        }\n        \n        #text-chat-send {\n          min-width: 60px;\n          min-height: 44px;\n        }\n      }\n      \n      ${anim.enableHover ? `\n        #text-chat-button:hover {\n          background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);\n          transform: scale(1.05);\n          box-shadow: 0 8px 20px rgba(102, 126, 234, 0.5);\n        }\n      ` : ''}\n      \n      #text-chat-panel {\n        display: none;\n        position: fixed;\n        bottom: calc(${buttonSize}px + 20px);\n        ${this.config.position.horizontal === 'right' ? 'right: 20px;' : 'left: 20px;'}\n        width: ${panel.width}px;\n        max-width: calc(100vw - 40px);\n        height: ${panel.height}px;\n        max-height: calc(100vh - ${buttonSize}px - 40px);\n        background: transparent;\n        border-radius: ${panel.borderRadius}px;\n        border: none;\n        flex-direction: column;\n        overflow: hidden;\n        ${panel.backdropFilter ? `backdrop-filter: ${panel.backdropFilter};` : ''}\n        ${anim.enableSlide ? `transition: all ${anim.duration}s ease;` : ''}\n      }\n      \n      #text-chat-panel.open {\n        display: flex;\n        ${anim.enableSlide ? 'transform: translateY(0); opacity: 1;' : ''}\n      }\n\n      /* Shell for gradient border/background */\n      .widget-shell { width: 100%; height: 100%; padding: 0; border-radius: ${panel.borderRadius}px; background: transparent; box-shadow: 0 20px 60px rgba(0,0,0,0.15); overflow: hidden; display: flex; flex-direction: column; }\n      .panel-inner { width: 100%; height: 100%; background: #ffffff; border-radius: ${panel.borderRadius}px; overflow: hidden; display:flex; flex-direction: column; padding: 0; box-sizing: border-box; }\n\n      /* New structure styles matching provided design */\n      #text-chat-panel .widget-container {\n        width: 100%; height: 100%; min-height: 0; background: #FFFFFF; overflow: hidden; display: flex; flex-direction: column; border-radius: ${panel.borderRadius}px;\n      }\n      #text-chat-panel .widget-header {\n        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n        color: #FFFFFF;\n        padding: 12px 16px;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        border-top-left-radius: ${panel.borderRadius}px;\n        border-top-right-radius: ${panel.borderRadius}px;\n        flex-shrink: 0;\n        min-height: 60px;\n        box-sizing: border-box;\n      }\n      #text-chat-panel .header-title { font-size: 16px; font-weight: 600; }\n      #text-chat-panel .header-status { display: flex; align-items: center; gap: 8px; font-size: 12px; opacity: 0.9; }\n      #text-chat-panel .status-dot { width: 8px; height: 8px; background: #4ade80; border-radius: 50%; animation: pulse 2s ease-in-out infinite; }\n      @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }\n      #text-chat-panel .back-btn, #text-chat-panel .close-btn {\n        background: rgba(255,255,255,0.2);\n        border: none; color: white; width: 32px; height: 32px; border-radius: 50%; cursor: pointer;\n        display: flex; align-items: center; justify-content: center;\n      }\n      #text-chat-panel .new-chat-btn { background: rgba(255,255,255,0.2); border: none; color: white; width: 32px; height: 32px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; }\n\n      /* Landing and mode selection (shown only if voice enabled) */\n      .landing-screen { display: none; flex: 1; padding: 20px; background: linear-gradient(180deg, #f8fafc 0%, #e0e7ff 100%); align-items: center; justify-content: flex-start; flex-direction: column; gap: 16px; overflow-y: auto; min-height: 0; }\n      .landing-screen.active { display: flex; }\n      .landing-logo { font-size: 48px; }\n      .landing-title { font-size: 20px; color: #1e293b; font-weight: 700; margin-bottom: 20px; }\n      .mode-selection { display: flex; gap: 16px; width: 100%; justify-content: center; }\n      .mode-card { flex: 1; max-width: 180px; background: #FFFFFF; border: 2px solid #E2E8F0; border-radius: 20px; padding: 20px 12px; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 8px; transition: transform ${anim.duration}s ease, box-shadow ${anim.duration}s ease, border-color ${anim.duration}s ease; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }\n      .mode-card:hover { transform: translateY(-6px); box-shadow: 0 12px 24px rgba(102, 126, 234, 0.2); border-color: ${headerColor}; }\n      .mode-card-icon { width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; border-radius: 50%; background: ${headerColor}; color: #fff; font-size: 32px; }\n      .mode-card-title { color: #111827; font-weight: 600; }\n\n      .voice-interface { display: none; flex: 1; align-items: center; justify-content: center; padding: 20px; background: #F8FAFC; }\n      .voice-interface.active { display: flex; }\n      .empty-voice { color: #6B7280; font-size: 14px; }\n      \n      /* Messages container using new classes */\n      #messagesContainer { flex: 1; overflow-y: auto; overflow-x: hidden; padding: 20px; background: #f8fafc; display: flex; flex-direction: column; gap: 16px; min-height: 0; }\n      .empty-state { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 12px; color: #64748b; text-align: center; padding: 20px; }\n      .empty-state-icon { font-size: 48px; opacity: 0.3; }\n      .empty-state-title { font-size: 20px; font-weight: 700; color: #334155; }\n      .empty-state-text { font-size: 13px; max-width: 280px; }\n\n      .text-interface { display: none; flex: 1; flex-direction: column; min-height: 0; overflow: hidden; }\n      .text-interface.active { display: flex; }\n      \n      .message { display: flex; gap: 8px; padding: 4px 0; max-width: 100%; align-items: center; }\n      .message.edge-left { flex-direction: row; }\n      .message.edge-right { flex-direction: row-reverse; }\n      .message-bubble { padding: 12px; border-radius: ${messages.borderRadius}px; max-width: 80%; font-size: ${messages.fontSize}; color: ${messages.textColor}; word-wrap: break-word; text-align: ${this.config.direction === 'rtl' ? 'right' : 'left'}; }\n      .message.user { background: ${messages.userBackgroundColor}; align-self: ${this.config.direction === 'rtl' ? 'flex-start' : 'flex-end'}; }\n      .message.agent { background: ${messages.agentBackgroundColor}; align-self: ${this.config.direction === 'rtl' ? 'flex-end' : 'flex-start'}; }\n      .message .message-bubble { text-align: ${this.config.direction === 'rtl' ? 'right' : 'left'}; }\n      .message-avatar { width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; flex-shrink: 0; color: inherit; font-size: 18px; line-height: 1; background: transparent; border: none; }\n      .message-avatar.user { background: transparent; }\n      .message-avatar.agent { background: transparent; }\n      \n      .message.system {\n        background: ${messages.systemBackgroundColor};\n        align-self: flex-start;\n        font-style: italic;\n      }\n      \n      .error-message {\n        background: ${messages.errorBackgroundColor};\n        color: #991B1B;\n        padding: 12px;\n        border-radius: ${messages.borderRadius}px;\n        margin: 8px;\n      }\n      \n      .input-container { padding: 10px 16px; background: white; border-top: 1px solid #E2E8F0; display: flex; gap: 10px; align-items: center; border-bottom-left-radius: ${panel.borderRadius}px; border-bottom-right-radius: ${panel.borderRadius}px; flex-shrink: 0; box-sizing: border-box; }\n      .input-wrapper { flex: 1; display: flex; align-items: center; order: initial; }\n      .message-input { width: 100%; padding: 0 14px; border: 2px solid #E5E7EB; border-radius: 20px; font-size: 14px; font-family: inherit; resize: none; height: 32px; transition: border-color ${anim.duration}s, box-shadow ${anim.duration}s; outline: none; background: #F9FAFB; color: ${panel.inputTextColor}; line-height: 32px; overflow-y: auto; }\n      .message-input::placeholder { line-height: 32px; }\n      .message-input:focus { border-color: #667eea; background: #FFFFFF; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); }\n      .message-input::placeholder { color: #9CA3AF; }\n      .send-button { width: 44px; height: 44px; border-radius: 50%; border: none; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s ease; flex-shrink: 0; box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4); order: initial; }\n      .send-button:hover { transform: translateY(-2px); box-shadow: 0 6px 16px rgba(102, 126, 234, 0.5); background: linear-gradient(135deg, #764ba2 0%, #667eea 100%); }\n      .send-button:active { transform: translateY(0px); box-shadow: 0 2px 8px rgba(102, 126, 234, 0.4); }\n      .send-button svg { width: 18px; height: 18px; display: block; pointer-events: none; }\n      .send-button svg * { stroke: white !important; fill: none !important; stroke-width: 2.5; stroke-linecap: round; stroke-linejoin: round; }\n      \n      #text-chat-send-hint {\n        text-align: center;\n        line-height: 1.4;\n      }\n      \n      .agent-thinking {\n        font-style: italic;\n        color: #6B7280;\n      }\n\n      /* Typing indicator */\n      .typing-indicator { display: inline-flex; gap: 4px; align-items: center; padding: 4px 2px; }\n      .typing-dot { width: 6px; height: 6px; background: #9CA3AF; border-radius: 50%; opacity: 0.6; animation: typingBlink 1.2s infinite ease-in-out; }\n      .typing-dot:nth-child(2) { animation-delay: 0.2s; }\n      .typing-dot:nth-child(3) { animation-delay: 0.4s; }\n      @keyframes typingBlink { 0%, 80%, 100% { transform: translateY(0); opacity: 0.4; } 40% { transform: translateY(-3px); opacity: 1; } }\n    `;\n  }\n\n  setupWidgetEvents() {\n    const openBtn = document.getElementById('text-chat-button');\n    if (openBtn) {\n      openBtn.onclick = () => this.togglePanel();\n    }\n    \n    const closeBtn = document.getElementById('text-chat-close');\n    if (closeBtn) {\n      closeBtn.onclick = () => this.togglePanel();\n    }\n    \n    // Voice selection events (if enabled)\n    const backBtn = document.getElementById('backBtn');\n    const landing = document.getElementById('landingScreen');\n    const voiceCard = document.getElementById('mode-card-voice');\n    const textCard = document.getElementById('mode-card-text');\n    const textInterface = document.getElementById('textInterface');\n    const voiceInterface = document.getElementById('voiceInterface');\n    if (this.config.behavior.enableVoiceMode) {\n      if (backBtn) backBtn.onclick = () => this.showLanding();\n      if (voiceCard) voiceCard.onclick = () => this.showVoice();\n      if (textCard) textCard.onclick = () => this.showText();\n      // Initial state: landing visible when voice enabled\n      if (landing) landing.classList.add('active');\n      if (textInterface) textInterface.classList.remove('active');\n      if (voiceInterface) voiceInterface.classList.remove('active');\n    }\n    \n    const sendButton = document.getElementById('sendButton');\n    const inputField = document.getElementById('messageInput');\n    const newChatBtn = document.getElementById('newChatBtn');\n    \n    if (sendButton) sendButton.onclick = () => this.sendMessage();\n    if (newChatBtn) newChatBtn.onclick = () => this.startNewChat();\n    \n    // Send on Enter key\n    if (inputField) {\n      inputField.addEventListener('keydown', (e) => {\n        if (e.key === 'Enter' && !e.shiftKey) {\n          e.preventDefault();\n          this.sendMessage();\n        }\n      });\n    }\n    \n    // Keyboard navigation\n    if (this.config.accessibility.keyboardNavigation) {\n      this.setupKeyboardNavigation();\n    }\n  }\n\n  startNewChat() {\n    try { localStorage.removeItem('ttp_text_chat_conversation_id'); } catch (_) {}\n    if (this.sdk) {\n      this.sdk.config.conversationId = null;\n    }\n    // Reset UI messages to empty state\n    const container = document.getElementById('messagesContainer');\n    if (container) {\n      container.innerHTML = `\n        <div class=\"empty-state\">\n          <div class=\"empty-state-icon\"></div>\n          <div class=\"empty-state-title\">${this.config.direction === 'rtl' ? '!   ?' : 'Hello! How can I help?'}</div>\n          <div class=\"empty-state-text\">${this.config.direction === 'rtl' ? '   ' : 'Send a message to get started'}</div>\n        </div>\n        <div class=\"message assistant\">\n          <div class=\"message-avatar\"></div>\n          <div class=\"typing-indicator\" id=\"typingIndicator\">\n            <div class=\"typing-dot\"></div>\n            <div class=\"typing-dot\"></div>\n            <div class=\"typing-dot\"></div>\n          </div>\n        </div>`;\n    }\n    // Focus message input\n    const input = document.getElementById('messageInput');\n    if (input) input.focus();\n  }\n\n  showLanding() {\n    if (!this.config.behavior.enableVoiceMode) return;\n    const landing = document.getElementById('landingScreen');\n    const textInterface = document.getElementById('textInterface');\n    const voiceInterface = document.getElementById('voiceInterface');\n    if (landing) landing.classList.add('active');\n    if (textInterface) textInterface.classList.remove('active');\n    if (voiceInterface) voiceInterface.classList.remove('active');\n  }\n\n  showText() {\n    const landing = document.getElementById('landingScreen');\n    const textInterface = document.getElementById('textInterface');\n    const voiceInterface = document.getElementById('voiceInterface');\n    if (landing) landing.classList.remove('active');\n    if (textInterface) textInterface.classList.add('active');\n    if (voiceInterface) voiceInterface.classList.remove('active');\n    // Focus input soon after render\n    setTimeout(() => {\n      const input = document.getElementById('messageInput');\n      if (input) input.focus();\n    }, 50);\n  }\n\n  showVoice() {\n    const landing = document.getElementById('landingScreen');\n    const textInterface = document.getElementById('textInterface');\n    const voiceInterface = document.getElementById('voiceInterface');\n    if (landing) landing.classList.remove('active');\n    if (textInterface) textInterface.classList.remove('active');\n    if (voiceInterface) voiceInterface.classList.add('active');\n  }\n\n  setupKeyboardNavigation() {\n    document.addEventListener('keydown', (e) => {\n      if (e.key === 'Escape' && this.isOpen) {\n        this.togglePanel();\n      }\n    });\n  }\n\n  togglePanel() {\n    this.isOpen = !this.isOpen;\n    const panel = document.getElementById('text-chat-panel');\n    panel.classList.toggle('open');\n    \n    // Focus input when opening\n    if (this.isOpen) {\n      setTimeout(() => {\n    const input = document.getElementById('messageInput');\n        if (input) input.focus();\n      }, 100);\n    }\n    \n    // Auto-connect if enabled\n    if (this.isOpen && !this.isActive && this.config.behavior.autoConnect) {\n      this.startChat();\n    }\n  }\n\n  async startChat() {\n    // No-op with single-shot design; connection happens per message\n    this.isActive = true;\n    this.updateSendButtonState();\n  }\n\n  async sendMessage() {\n    const input = document.getElementById('messageInput');\n    const text = input.value.trim();\n    \n    if (!text) {\n      return;\n    }\n    \n    // Ensure active state\n    if (!this.isActive) {\n      await this.startChat();\n    }\n    \n    // Add user message to UI\n    this.addMessage('user', text);\n    \n    // Clear input\n    input.value = '';\n    \n    // Prepare streaming bubble and send via SDK\n    try {\n      this.beginStreaming();\n      await this.sdk.sendMessage(text);\n    } catch (error) {\n      console.error(' Failed to send message:', error);\n      this.showError(error.message);\n      this.stopStreamingState();\n    }\n  }\n\n  updateSendButtonState() {\n    const sendButton = document.getElementById('sendButton');\n    if (!sendButton) return;\n    \n    sendButton.disabled = !this.isActive; // single-shot; enable when ready for input\n  }\n\n  async getSignedUrl() {\n    // If getSessionUrl is not provided, construct URL directly from agentId and appId\n    if (!this.config.getSessionUrl) {\n      if (!this.config.agentId) {\n        throw new Error('agentId is required');\n      }\n      \n      // Build WebSocket URL directly\n      // Default uses backend.talktopc.com for text chat (path may need adjustment)\n      const baseUrl = this.config.websocketUrl || 'wss://backend.talktopc.com/ws/conv';\n      const params = new URLSearchParams();\n      params.append('agentId', this.config.agentId);\n      \n      if (this.config.appId) {\n        params.append('appId', this.config.appId);\n      }\n      \n      // Add demo flag if in development\n      if (this.config.demo !== false) {\n        params.append('demo', 'true');\n      }\n      \n      return `${baseUrl}?${params.toString()}`;\n    }\n    \n    // Handle getSessionUrl as string (backend URL)\n    if (typeof this.config.getSessionUrl === 'string') {\n      const requestBody = {\n        agentId: this.config.agentId,\n        variables: this.config.variables || {}\n      };\n      \n      // Add appId if provided in config\n      if (this.config.appId) {\n        requestBody.appId = this.config.appId;\n      }\n      \n      const response = await fetch(this.config.getSessionUrl, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(requestBody)\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to get session URL: ${response.statusText}`);\n      }\n\n      const data = await response.json();\n      return data.signedUrl || data.wsUrl || data.url;\n    }\n    \n    // Handle getSessionUrl as function\n    else if (typeof this.config.getSessionUrl === 'function') {\n      const params = {\n        agentId: this.config.agentId,\n        variables: this.config.variables || {}\n      };\n      \n      // Add appId if provided in config\n      if (this.config.appId) {\n        params.appId = this.config.appId;\n      }\n      \n      const result = await this.config.getSessionUrl(params);\n      \n      return typeof result === 'string' ? result : (result.signedUrl || result.wsUrl || result.url);\n    }\n    \n    else {\n      throw new Error('getSessionUrl must be a string (backend URL), a function, or omitted (for direct connection with agentId/appId)');\n    }\n  }\n\n  addMessage(type, text) {\n    const messages = document.getElementById('messagesContainer');\n    const message = document.createElement('div');\n    const edgeClass = (this.config.direction === 'rtl')\n      ? (type === 'user' ? 'edge-left' : 'edge-right')\n      : (type === 'user' ? 'edge-right' : 'edge-left');\n    message.className = `message ${type} ${edgeClass}`;\n\n    const avatar = document.createElement('div');\n    avatar.className = `message-avatar ${type}`;\n    avatar.textContent = type === 'user' ? '' : '';\n\n    const bubble = document.createElement('div');\n    bubble.className = 'message-bubble';\n    bubble.textContent = text;\n\n    // Order is controlled by edgeClass via flex-direction\n    message.appendChild(avatar);\n    message.appendChild(bubble);\n    messages.appendChild(message);\n    messages.scrollTop = messages.scrollHeight;\n  }\n\n  beginStreaming() {\n    const messages = document.getElementById('messagesContainer');\n    // Clean any previous indicator\n    this.stopStreamingState();\n    const el = document.createElement('div');\n    const edgeClass = (this.config.direction === 'rtl') ? 'edge-right' : 'edge-left';\n    el.className = `message agent ${edgeClass}`;\n    el.id = 'agent-streaming';\n\n    const avatar = document.createElement('div');\n    avatar.className = 'message-avatar agent';\n    avatar.textContent = '';\n    const bubble = document.createElement('div');\n    bubble.className = 'message-bubble';\n    // show typing dots until first chunk\n    bubble.innerHTML = '<span class=\"typing-indicator\"><span class=\"typing-dot\"></span><span class=\"typing-dot\"></span><span class=\"typing-dot\"></span></span>';\n\n    el.appendChild(avatar);\n    el.appendChild(bubble);\n    messages.appendChild(el);\n    this.streamingEl = bubble;\n    this.hasStartedStreaming = false;\n    messages.scrollTop = messages.scrollHeight;\n  }\n\n  appendStreamingChunk(chunk) {\n    if (!this.streamingEl) return;\n    if (!this.hasStartedStreaming) {\n      // remove typing indicator on first content\n      this.streamingEl.textContent = '';\n      this.hasStartedStreaming = true;\n    }\n    this.streamingEl.textContent += chunk;\n    const messages = document.getElementById('messagesContainer');\n    messages.scrollTop = messages.scrollHeight;\n  }\n\n  finalizeStreaming(fullText) {\n    if (this.streamingEl) {\n      // If no chunks arrived, simulate typing char-by-char\n      if (!this.hasStartedStreaming && fullText && fullText.length > 0) {\n        this.streamingEl.textContent = '';\n        this.hasStartedStreaming = true;\n        const text = fullText;\n        let i = 0;\n        const messages = document.getElementById('messagesContainer');\n        clearInterval(this.streamingTimer);\n        this.streamingTimer = setInterval(() => {\n          if (!this.streamingEl) { clearInterval(this.streamingTimer); return; }\n          this.streamingEl.textContent += text.charAt(i);\n          if (messages) messages.scrollTop = messages.scrollHeight;\n          i++;\n          if (i >= text.length) {\n            clearInterval(this.streamingTimer);\n            const container = document.getElementById('agent-streaming');\n            if (container) container.id = '';\n            this.streamingEl = null;\n            this.updateSendButtonState();\n          }\n        }, 20);\n        return;\n      }\n      // Normal path: chunks already appended; just ensure final text and cleanup\n      this.streamingEl.textContent = fullText || this.streamingEl.textContent;\n      const container = document.getElementById('agent-streaming');\n      if (container) container.id = '';\n      this.streamingEl = null;\n    }\n    this.updateSendButtonState();\n  }\n\n  stopStreamingState() {\n    const existing = document.getElementById('agent-streaming');\n    if (existing) existing.remove();\n    this.streamingEl = null;\n    this.hasStartedStreaming = false;\n    clearInterval(this.streamingTimer);\n  }\n\n  showError(message) {\n    const messages = document.getElementById('messagesContainer');\n    const error = document.createElement('div');\n    error.className = 'error-message';\n    error.textContent = message;\n    messages.appendChild(error);\n    messages.scrollTop = messages.scrollHeight;\n  }\n\n  updateStatus(status) {\n    // Status update handler (can be overridden by users)\n  }\n\n  // Public API methods\n  updateConfig(newConfig) {\n    // Deep merge nested objects\n    const mergedConfig = { ...this.config };\n    \n    // Deep merge panel config if it exists\n    if (newConfig.panel) {\n      mergedConfig.panel = { ...this.config.panel, ...newConfig.panel };\n      // Deep merge sendButtonHint if it exists (similar to micButtonHint in voice widget)\n      if (newConfig.panel.sendButtonHint) {\n        mergedConfig.panel.sendButtonHint = {\n          ...this.config.panel?.sendButtonHint,\n          ...newConfig.panel.sendButtonHint\n        };\n      }\n      // Deep merge inputConfig if it exists (for future extensibility)\n      if (newConfig.panel.inputConfig) {\n        mergedConfig.panel.inputConfig = {\n          ...this.config.panel?.inputConfig,\n          ...newConfig.panel.inputConfig\n        };\n      }\n    }\n    \n    // Merge other configs (shallow merge is fine for these)\n    if (newConfig.button) {\n      mergedConfig.button = { ...this.config.button, ...newConfig.button };\n    }\n    if (newConfig.header) {\n      mergedConfig.header = { ...this.config.header, ...newConfig.header };\n    }\n    if (newConfig.icon) {\n      mergedConfig.icon = { ...this.config.icon, ...newConfig.icon };\n    }\n    if (newConfig.messages) {\n      mergedConfig.messages = { ...this.config.messages, ...newConfig.messages };\n    }\n    \n    // Merge direction property\n    if (newConfig.direction !== undefined) {\n      mergedConfig.direction = newConfig.direction;\n    }\n    \n    // Merge any other top-level properties\n    Object.keys(newConfig).forEach(key => {\n      if (!['panel', 'button', 'header', 'icon', 'messages', 'direction'].includes(key)) {\n        mergedConfig[key] = newConfig[key];\n      }\n    });\n    \n    this.config = this.mergeWithDefaults(mergedConfig);\n    // Recreate widget with new config\n    const existingWidget = document.getElementById('text-chat-widget');\n    if (existingWidget) {\n      existingWidget.remove();\n    }\n    this.createWidget();\n  }\n\n  destroy() {\n    const widget = document.getElementById('text-chat-widget');\n    if (widget) {\n      widget.remove();\n    }\n    if (this.sdk) {\n      this.sdk.destroy();\n    }\n  }\n}\n\n","/**\n * TTP Agent SDK - Main Entry Point\n * \n * A comprehensive SDK for voice and text interaction with AI agents.\n * Provides real-time audio recording, WebSocket communication, and audio playback.\n * \n * Features:\n * -  Real-time Audio Recording with AudioWorklet\n * -  Text Chat Support\n * -  WebSocket Communication with authentication\n * -  Audio Playback with queue management\n * -  React Components\n * -  Vanilla JavaScript Components\n * -  Event-driven architecture\n * -  Multiple authentication methods\n */\n\n// Core SDK\nimport VoiceSDK from './core/VoiceSDK.js';\nimport TextChatSDK from './core/TextChatSDK.js';\nimport WebSocketManager from './core/WebSocketManager.js';\nimport AudioRecorder from './core/AudioRecorder.js';\nimport AudioPlayer from './core/AudioPlayer.js';\nimport EventEmitter from './core/EventEmitter.js';\n\n// React components\nimport VoiceButton from './react/VoiceButton.jsx';\n\n// Vanilla JavaScript components\nimport VanillaVoiceButton from './vanilla/VoiceButton.js';\n\n// Legacy AgentSDK (for backward compatibility)\nimport { AgentSDK, AgentWidget } from './legacy/AgentSDK.js';\nimport { TextChatWidget } from './legacy/TextChatWidget.js';\n\n// Version\nexport const VERSION = '2.0.0';\n\n// Named exports\nexport {\n  VoiceSDK,\n  TextChatSDK,\n  WebSocketManager,\n  AudioRecorder,\n  AudioPlayer,\n  EventEmitter,\n  VoiceButton,\n  VanillaVoiceButton,\n  AgentSDK,\n  AgentWidget,\n  TextChatWidget\n};\n\n// Default export for convenience\nexport default {\n  VoiceSDK,\n  TextChatSDK,\n  WebSocketManager,\n  AudioRecorder,\n  AudioPlayer,\n  EventEmitter,\n  VoiceButton,\n  VanillaVoiceButton,\n  AgentSDK,\n  AgentWidget,\n  TextChatWidget,\n  VERSION\n};\n"],"names":["root","factory","exports","module","define","amd","window","REACT_ELEMENT_TYPE","Symbol","for","jsxProd","type","config","maybeKey","key","propName","ref","$$typeof","props","jsx","jsxs","iterator","ReactNoopUpdateQueue","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","assign","Object","emptyObject","Component","context","updater","this","refs","ComponentDummy","PureComponent","prototype","isReactComponent","setState","partialState","callback","Error","forceUpdate","pureComponentPrototype","constructor","isPureReactComponent","Array","isArray","ReactSharedInternals","H","A","T","S","hasOwnProperty","reportError","useEffect","create","deps","useRef","initialValue","useState","initialState","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","d","definition","o","defineProperty","enumerable","get","obj","prop","call","r","toStringTag","value","EventEmitter","_classCallCheck","events","event","push","filter","cb","_len","arguments","length","args","_key","forEach","apply","error","console","concat","e","t","n","i","c","Generator","u","_regeneratorDefine2","f","p","y","G","v","a","bind","l","TypeError","done","return","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","_invoke","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_defineProperties","_toPropertyKey","_typeof","toPrimitive","String","_toPrimitive","_isNativeReflectConstruct","Boolean","valueOf","Reflect","construct","_getPrototypeOf","_setPrototypeOf","_EventEmitter","WebSocketSingleton","_this","ReferenceError","_assertThisInitialized","_possibleConstructorReturn","_callSuper","connections","Map","connectionCounts","creatingConnections","Set","_inherits","_callee","url","existingConnection","connection","_this2","_context","has","set","checkConnection","setTimeout","add","WebSocket","addEventListener","delete","emit","_getConnection","_next","_throw","_x","currentCount","newCount","Math","max","readyState","OPEN","close","exists","subscribers","_step","result","_iterator","_createForOfIteratorHelper","entries","s","_step$value","_slicedToArray","err","_step2","_iterator2","_step2$value","clear","WebSocketManager","ws","isConnected","connectionId","reject","Date","now","random","toString","substr","connectResolve","connectReject","webSocketSingleton","getConnection","websocketUrl","setupEventListeners","catch","_connect","_this3","handleOpen","handleClose","handleError","handleMessage","on","eventHandlers","open","message","off","releaseConnection","send","JSON","stringify","warn","data","_this4","ArrayBuffer","Blob","arrayBuffer","parse","getAllConnections","clearAll","_asyncToGenerator","AudioRecorder","audioContext","audioWorkletNode","mediaStream","isRecording","_start","_t","navigator","mediaDevices","getUserMedia","audio","sampleRate","channelCount","echoCancellation","noiseSuppression","autoGainControl","AudioContext","webkitAudioContext","state","resume","audioWorklet","addModule","AudioWorkletNode","createMediaStreamSource","connect","port","onmessage","_event$data","postMessage","enabled","_stop","_callee2","_t2","_context2","getTracks","track","stop","audioContextState","AudioPlayer","audioQueue","isPlaying","isProcessingQueue","currentSource","audioData","audioBlob","createAudioBlob","processQueue","uint8Array","Uint8Array","wasNotPlayingBefore","audioBuffer","isTrulyStarting","source","shift","decodeAudioData","createBufferSource","buffer","destination","onended","start","_processQueue","stopImmediate","wasPlaying","queueLength","ownKeys","keys","getOwnPropertySymbols","getOwnPropertyDescriptor","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","VoiceSDK","agentId","appId","ttpId","voice","language","isDestroyed","webSocketManager","autoReconnect","audioRecorder","audioPlayer","setupEventHandlers","sendHelloMessage","stopRecording","binaryString","atob","charCodeAt","playAudio","sendMessage","sendBinary","wsUrl","buildWebSocketUrl","params","URLSearchParams","append","separator","includes","disconnect","resetReconnectionAttempts","_reconnect","_startRecording","_callee3","_context3","generateTtpId","_stopRecording","_callee4","_t3","_context4","_toggleRecording","_callee5","_context5","startRecording","_handleBargeIn","_callee6","_context6","stopAudioPlayback","newConfig","helloMessage","destroy","removeAllListeners","TextChatSDK","scriptConfig","readScriptTagConfig","baseWsUrl","conversationId","getPersistedConversationId","forceConversationId","queue","inFlight","fullResponseBuffer","sdkScript","from","document","getElementsByTagName","reverse","find","dataset","src","_","base","text","trim","task","executeTask","_sendMessage","persisted","log","socket","primaryUrl","fallbackBase","endsWith","replace","fallbackUrl","triedFallback","messageSent","helloWaitTimer","sendPayload","payload","effectiveConvId","persistConversationId","evt","clearTimeout","content","fullText","drainQueue","onopen","onerror","fb","onclose","next","localStorage","setItem","getItem","_arrayWithHoles","_iterableToArrayLimit","_arrayLikeToArray","slice","name","test","_unsupportedIterableToArray","_nonIterableRest","_ref","_ref$voice","_ref$language","_ref$autoReconnect","onConnected","onDisconnected","onRecordingStarted","onRecordingStopped","onPlaybackStarted","onPlaybackStopped","onError","onMessage","onBargeIn","onStopPlaying","_ref$className","className","_ref$style","style","children","_useState2","setIsConnected","_useState4","setIsRecording","_useState6","setIsPlaying","_useState8","setConnectionStatus","voiceSDKRef","current","voiceSDK","handleClick","_ref2","toggleRecording","defaultContent","_jsxs","display","alignItems","gap","_jsx","fontSize","padding","border","borderRadius","backgroundColor","color","cursor","fontWeight","transition","onClick","disabled","VoiceButton","options","container","body","buttonText","buttonClass","createButton","_this$options$onConne","_this$options","updateButton","_this$options$onDisco","_this$options2","_this$options$onRecor","_this$options3","_this$options$onRecor2","_this$options4","_this$options$onPlayb","_this$options5","_this$options$onPlayb2","_this$options6","_this$options$onError","_this$options7","_this$options$onMessa","_this$options8","_this$options$onBarge","_this$options9","_this$options$onStopP","_this$options0","button","createElement","cssText","appendChild","icon","innerHTML","updateConfig","parentNode","removeChild","_createClass","AgentSDK","isListening","onTranscript","onAgentSpeaking","isStart","signedUrl","handleWebSocketMessage","user_transcription","_startListening","variables","AgentWidget","mergeWithDefaults","sdk","isOpen","isActive","createWidget","behavior","startOpen","autoOpen","panel","getElementById","classList","userConfig","_userConfig$button","_userConfig$icon","_userConfig$icon2","_userConfig$icon3","_userConfig$icon4","_userConfig$icon5","_userConfig$icon6","_userConfig$button2","_userConfig$button3","_userConfig$button4","_userConfig$icon7","_userConfig$button5","_userConfig$button6","_userConfig$button7","_userConfig$button8","_userConfig$icon8","_userConfig$panel","_userConfig$panel2","_userConfig$panel3","_userConfig$panel4","_userConfig$panel5","_userConfig$panel6","_userConfig$panel7","_userConfig$panel8","_userConfig$panel9","_userConfig$panel0","_userConfig$panel1","_userConfig$panel10","_userConfig$header","_userConfig$header2","_userConfig$header3","_userConfig$button9","_userConfig$header4","_userConfig$header5","_userConfig$messages","_userConfig$messages2","_userConfig$messages3","_userConfig$messages4","_userConfig$messages5","_userConfig$messages6","_userConfig$messages7","_userConfig$animation","_userConfig$animation2","_userConfig$animation3","_userConfig$animation4","_userConfig$behavior","_userConfig$behavior2","_userConfig$behavior3","_userConfig$behavior4","_userConfig$behavior5","_userConfig$behavior6","_userConfig$accessibi","_userConfig$accessibi2","_userConfig$accessibi3","positionConfig","position","parts","split","vertical","horizontal","offset","positionOffset","x","primaryColor","getSessionUrl","demo","direction","customImage","emoji","size","shape","hoverColor","shadow","shadowColor","width","height","backdropFilter","micButtonColor","micButtonActiveColor","micButtonHint","header","title","showTitle","textColor","showCloseButton","messages","userBackgroundColor","agentBackgroundColor","systemBackgroundColor","errorBackgroundColor","animation","enableHover","enablePulse","enableSlide","duration","hidden","autoConnect","showWelcomeMessage","welcomeMessage","accessibility","ariaLabel","ariaDescription","keyboardNavigation","customStyles","positionString","updateStatus","addMessage","updateMicButtonState","showError","showAgentThinking","hideAgentThinking","widget","id","generateWidgetHTML","setupWidgetEvents","btn","buttonSize","small","medium","large","xl","iconSize","positionStyles","generatePositionStyles","iconHTML","generateIconHTML","generateCSS","pos","styles","floor","anim","floatingButtonColor","headerColor","openBtn","onclick","togglePanel","closeBtn","toggleVoice","setupKeyboardNavigation","toggle","_toggleVoice","connected","attempts","getSignedUrl","startListening","stopListening","micButton","iconElement","querySelector","tagName","remove","_getSignedUrl","baseUrl","requestBody","response","_params","fetch","method","headers","ok","statusText","json","textContent","scrollTop","scrollHeight","thinking","status","_this$config$panel","mergedConfig","existingWidget","TextChatWidget","streamingEl","hasStartedStreaming","streamingTimer","_userConfig$panel11","_userConfig$panel12","_userConfig$panel13","_userConfig$panel14","_userConfig$panel15","_userConfig$panel16","_userConfig$panel17","_userConfig$panel18","_userConfig$panel19","_userConfig$panel20","_userConfig$panel21","_userConfig$panel22","_userConfig$panel23","_userConfig$behavior7","sendButtonColor","sendButtonHoverColor","sendButtonActiveColor","sendButtonText","sendButtonTextColor","sendButtonFontSize","sendButtonFontWeight","sendButtonHint","inputPlaceholder","inputBorderColor","inputFocusColor","inputBackgroundColor","inputTextColor","inputFontSize","inputBorderRadius","inputPadding","enableVoiceMode","stopStreamingState","chunk","appendStreamingChunk","finalizeStreaming","voiceEnabled","backBtn","landing","voiceCard","textCard","textInterface","voiceInterface","showLanding","showVoice","showText","sendButton","inputField","newChatBtn","startNewChat","shiftKey","preventDefault","removeItem","input","focus","startChat","_startChat","updateSendButtonState","beginStreaming","edgeClass","avatar","bubble","el","clearInterval","setInterval","charAt","existing","_this$config$panel2","inputConfig","VERSION","VanillaVoiceButton"],"sourceRoot":""}